<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trainify</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2">
/* ── Defensive tab wiring (override) ── */
(function(){
  const td=document.getElementById("tabDash");
  const tl=document.getElementById("tabLogg");
  const tg=document.getElementById("tabGolf");
  const vd=document.getElementById("viewDash");
  const vl=document.getElementById("viewLogg");
  const vg=document.getElementById("viewGolf");
  if(!td || !tl || !vd || !vl) return;

  function activate(which){
    const isDash = which==="dash";
    const isLogg = which==="logg";
    const isGolf = which==="golf";
    td.classList.toggle("active", isDash);
    tl.classList.toggle("active", isLogg);
    if(tg) tg.classList.toggle("active", isGolf);
    vd.classList.toggle("active", isDash);
    vl.classList.toggle("active", isLogg);
    if(vg) vg.classList.toggle("active", isGolf);
    // hide activity form row (if present) outside dashboard
    const formRow=document.getElementById("formRow");
    if(formRow) formRow.classList.toggle("hidden", !isDash);
    // lazy refresh golf
    if(isGolf && typeof refreshGolf === "function") refreshGolf();
  }

  td.onclick = ()=>activate("dash");
  tl.onclick = ()=>activate("logg");
  if(tg) tg.onclick = ()=>activate("golf");
})();

</script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js">
/* ── Defensive tab wiring (override) ── */
(function(){
  const td=document.getElementById("tabDash");
  const tl=document.getElementById("tabLogg");
  const tg=document.getElementById("tabGolf");
  const vd=document.getElementById("viewDash");
  const vl=document.getElementById("viewLogg");
  const vg=document.getElementById("viewGolf");
  if(!td || !tl || !vd || !vl) return;

  function activate(which){
    const isDash = which==="dash";
    const isLogg = which==="logg";
    const isGolf = which==="golf";
    td.classList.toggle("active", isDash);
    tl.classList.toggle("active", isLogg);
    if(tg) tg.classList.toggle("active", isGolf);
    vd.classList.toggle("active", isDash);
    vl.classList.toggle("active", isLogg);
    if(vg) vg.classList.toggle("active", isGolf);
    // hide activity form row (if present) outside dashboard
    const formRow=document.getElementById("formRow");
    if(formRow) formRow.classList.toggle("hidden", !isDash);
    // lazy refresh golf
    if(isGolf && typeof refreshGolf === "function") refreshGolf();
  }

  td.onclick = ()=>activate("dash");
  tl.onclick = ()=>activate("logg");
  if(tg) tg.onclick = ()=>activate("golf");
})();

</script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg:       #181b2e;
      --bg1:      #1f2340;
      --bg2:      #252847;
      --bg3:      #2c3054;
      --bg4:      #333860;
      --border:   rgba(150,160,255,0.22);
      --border2:  rgba(150,160,255,0.38);
      --text:     #e8eaf8;
      --muted:    #a0a8d8;
      --muted2:   #7a85b8;
      --accent:   #6366f1;
      --accent2:  #818cf8;
      --violet:   #a78bfa;
      --violet2:  #c4b5fd;
      --blue:     #3b82f6;
      --blue2:    #60a5fa;
      --cyan:     #22d3ee;
      --good:     #34d399;
      --bad:      #f87171;
      --glow:     rgba(99,102,241,0.25);
      --glow2:    rgba(167,139,250,0.2);
      --mono: 'SF Mono', ui-monospace, Menlo, Monaco, monospace;
      --sans: 'Inter', system-ui, sans-serif;
      --display: 'Space Grotesk', 'Inter', system-ui, sans-serif;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }

    body {
      font-family: var(--sans);
      color: var(--text);
      background: var(--bg);
      background-image:
        radial-gradient(ellipse 900px 700px at 15% -5%,  rgba(99,102,241,0.22) 0%, transparent 55%),
        radial-gradient(ellipse 700px 600px at 85%  5%,  rgba(167,139,250,0.16) 0%, transparent 50%),
        radial-gradient(ellipse 600px 500px at 50% 100%, rgba(59,130,246,0.13) 0%, transparent 55%);
      min-height: 100vh;
    }

    /* ══ TOPBAR ══ */
    .topbar {
      position: sticky; top: 0; z-index: 200;
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      align-items: center;
      height: 88px; padding: 0 36px;
      background: rgba(24,27,46,0.93);
      border-bottom: 1px solid var(--border);
      backdrop-filter: blur(28px) saturate(1.8);
      -webkit-backdrop-filter: blur(28px) saturate(1.8);
    }
    .brand {
      display: flex; align-items: center; gap: 14px;
      justify-self: start;
    }
    .logo-mark {
      position: relative;
      width: 64px; height: 64px; border-radius: 18px; flex-shrink: 0;
      background: linear-gradient(145deg, #8b80f9 0%, #5b5ce8 40%, #a78bfa 100%);
      display: flex; align-items: center; justify-content: center;
      box-shadow:
        0 0 0 1px rgba(167,139,250,0.35),
        0 4px 22px rgba(99,102,241,0.6),
        0 12px 44px rgba(99,102,241,0.3),
        inset 0 1px 0 rgba(255,255,255,0.2);
      transition: transform 220ms ease, box-shadow 220ms ease;
      cursor: default;
    }
    .logo-mark:hover {
      transform: translateY(-2px) scale(1.04);
      box-shadow:
        0 0 0 1px rgba(167,139,250,0.5),
        0 8px 32px rgba(99,102,241,0.75),
        0 18px 56px rgba(99,102,241,0.38),
        inset 0 1px 0 rgba(255,255,255,0.24);
    }
    .logo-mark::before {
      content: ''; position: absolute; inset: 0; border-radius: 16px;
      background: linear-gradient(145deg, rgba(255,255,255,0.18) 0%, transparent 55%);
      pointer-events: none;
    }
    .logo-mark svg { width: 33px; height: 33px; position: relative; z-index: 1; filter: drop-shadow(0 2px 6px rgba(0,0,0,0.55)); }
    .brand-text { display: flex; flex-direction: column; gap: 2px; }
    .brand-name {
      font-family: var(--display); font-size: 28px; font-weight: 700;
      letter-spacing: -0.03em; line-height: 1.05;
      background: linear-gradient(130deg, #f0f2ff 15%, #c4b5fd 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
    }
    .brand-sub {
      font-size: 10.5px; color: var(--muted2); font-weight: 700;
      letter-spacing: 0.14em; text-transform: uppercase;
    }
    .nav-center { justify-self: center; }
    .topbar-right { display: flex; align-items: center; gap: 8px; justify-self: end; }

    .nav-tabs {
      display: flex; align-items: center; gap: 2px;
      background: rgba(255,255,255,0.03); border: 1px solid var(--border);
      border-radius: 12px; padding: 4px;
    }
    .nav-tab {
      appearance: none; border: none; background: transparent;
      color: var(--muted); font-family: var(--sans); font-size: 13px; font-weight: 600;
      padding: 7px 20px; border-radius: 9px; cursor: pointer; transition: all 150ms ease;
    }
    .nav-tab:hover:not(.active) { color: var(--text); background: rgba(255,255,255,0.05); }
    .nav-tab.active { background: linear-gradient(135deg, var(--accent), var(--violet)); color: #fff; box-shadow: 0 4px 18px var(--glow); }

    .status-pills { display: flex; align-items: center; gap: 8px; }
    .status-pill {
      display: flex; align-items: center; gap: 7px; padding: 6px 13px; border-radius: 999px;
      font-size: 12px; font-weight: 500; background: rgba(255,255,255,0.04);
      border: 1px solid var(--border); color: var(--muted); white-space: nowrap;
    }
    .status-dot {
      width: 7px; height: 7px; border-radius: 50%; background: var(--good);
      box-shadow: 0 0 0 3px rgba(52,211,153,0.2), 0 0 8px rgba(52,211,153,0.4);
      animation: pulse 2.4s ease-in-out infinite;
    }
    @keyframes pulse {
      0%,100% { box-shadow: 0 0 0 3px rgba(52,211,153,0.2), 0 0 8px rgba(52,211,153,0.3); }
      50%      { box-shadow: 0 0 0 5px rgba(52,211,153,0.1), 0 0 16px rgba(52,211,153,0.5); }
    }

    /* ══ LAYOUT ══ */
    .page-wrap {
      max-width: 1400px; margin: 0 auto;
      padding: 28px 24px 80px;
      display: grid;
      grid-template-columns: 320px 1fr;
      grid-template-rows: auto;
      gap: 20px;
      align-items: start;
    }
    .top-form-row { grid-column: 1; grid-row: 1; }
    .top-form-row.hidden { display: none; }
    .top-form-row > .panel { width: 100%; }
    .main-content { grid-column: 2; grid-row: 1; }
    /* When form hidden (logg tab), content spans full width */
    .top-form-row.hidden ~ .main-content { grid-column: 1 / -1; }
    @media (max-width: 900px) {
      .page-wrap { grid-template-columns: 1fr; }
      .top-form-row, .main-content { grid-column: 1; }
      .top-form-row.hidden ~ .main-content { grid-column: 1; }
    }

    /* ══ PANEL ══ */
    .panel {
      background: var(--bg1); border: 1px solid var(--border); border-radius: 20px; overflow: hidden; position: relative;
    }
    .panel::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0; height: 1px;
      background: linear-gradient(90deg, transparent, rgba(99,102,241,0.5), rgba(167,139,250,0.4), transparent);
      pointer-events: none;
    }
    .panel-header { padding: 20px 24px 16px; border-bottom: 1px solid var(--border); }
    .panel-title   { font-family: var(--display); font-size: 15px; font-weight: 700; color: var(--text); letter-spacing: -0.01em; }
    .panel-subtitle{ font-size: 13px; color: var(--muted); margin-top: 4px; line-height: 1.5; }
    .panel-body    { padding: 24px; }
    .top-form-row .panel-body { padding: 18px 20px; }
    .top-form-row .panel-header { padding: 16px 20px 13px; }
    .top-form-row .panel-title { font-size: 13px; }
    .top-form-row .panel-subtitle { font-size: 12px; margin-top: 3px; }
    .top-form-row .form { gap: 12px; }
    .top-form-row input,
    .top-form-row select { padding: 9px 12px; font-size: 13px; }
    .top-form-row .btn-primary { padding: 11px 16px; font-size: 13px; }
    .top-form-row .field-label { font-size: 10.5px; }
    .top-form-row .row3 { gap: 8px; }
    .top-form-row .panel-footer { padding: 10px 20px; font-size: 11px; }
    .panel-footer  { padding: 13px 24px; border-top: 1px solid var(--border); font-size: 12px; color: var(--muted2); text-align: center; background: rgba(255,255,255,0.01); }

    /* ══ FORM ══ */
    .form { display: grid; gap: 16px; }
    .field { display: grid; gap: 7px; }
    .field-label { font-size: 11px; font-weight: 700; letter-spacing: 0.09em; text-transform: uppercase; color: var(--muted); }

    input, select {
      width: 100%; padding: 11px 14px; border-radius: 10px;
      border: 1px solid rgba(120,130,220,0.15); background: rgba(28,32,58,0.78);
      color: var(--text); outline: none; font-family: var(--sans); font-size: 14px; font-weight: 500;
      transition: border-color 150ms, box-shadow 150ms; -webkit-appearance: none; appearance: none;
    }
    input::placeholder { color: rgba(255,255,255,0.2); }
    input:focus, select:focus {
      border-color: rgba(99,102,241,0.6);
      box-shadow: 0 0 0 3px rgba(99,102,241,0.15), 0 0 16px rgba(99,102,241,0.08);
    }
    select option { background: var(--bg2); }
    .row2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .row3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; }
    @media (max-width: 520px) { .row2, .row3 { grid-template-columns: 1fr; } }
    .hint-text { font-size: 12px; color: var(--muted2); margin-top: 3px; }

    .btn-primary {
      cursor: pointer; width: 100%; padding: 13px 20px; border: none; border-radius: 10px;
      background: linear-gradient(135deg, var(--accent) 0%, var(--violet) 100%);
      color: #fff; font-family: var(--sans); font-size: 14px; font-weight: 700;
      box-shadow: 0 8px 28px var(--glow); transition: transform 130ms ease, box-shadow 130ms ease, opacity 130ms;
    }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 12px 36px var(--glow2); }
    .btn-primary:active { transform: translateY(0); opacity: 0.9; }

    .btn-ghost {
      cursor: pointer; padding: 9px 16px; border-radius: 10px; border: 1px solid var(--border2);
      background: rgba(255,255,255,0.04); color: var(--text); font-family: var(--sans);
      font-size: 12px; font-weight: 600; width: auto; white-space: nowrap;
      transition: background 130ms, border-color 130ms, transform 130ms;
    }
    .btn-ghost:hover { background: rgba(99,102,241,0.1); border-color: rgba(99,102,241,0.35); transform: translateY(-1px); }
    .btn-ghost:active { transform: translateY(0); }

    .msg { min-height: 18px; font-size: 13px; font-weight: 600; text-align: center; margin-top: 4px; }

    /* ══ CALENDAR PICKER ══ */
    .date-picker-wrap { position: relative; }
    .date-display {
      width: 100%; padding: 11px 14px; border-radius: 10px;
      border: 1px solid rgba(120,130,220,0.15); background: rgba(28,32,58,0.78);
      color: var(--text); font-family: var(--sans); font-size: 14px; font-weight: 500;
      cursor: pointer; display: flex; align-items: center; justify-content: space-between; gap: 10px;
      transition: border-color 150ms, box-shadow 150ms; user-select: none;
    }
    .date-display:hover, .date-display.open {
      border-color: rgba(99,102,241,0.6); box-shadow: 0 0 0 3px rgba(99,102,241,0.15);
    }
    .date-display .placeholder { color: rgba(255,255,255,0.22); }
    .date-display .cal-icon { opacity: 0.55; font-size: 15px; flex-shrink: 0; }

    .calendar-popup {
      display: none; position: absolute; top: calc(100% + 8px); left: 0; z-index: 500;
      width: 320px; background: #272b4a; border: 1px solid var(--border2); border-radius: 16px;
      box-shadow: 0 24px 64px rgba(0,0,0,0.7), 0 0 0 1px rgba(99,102,241,0.1); overflow: hidden;
      animation: dropIn 160ms ease both;
    }
    .calendar-popup.open { display: block; }
    @keyframes dropIn { from { opacity:0; transform:translateY(-8px) scale(0.97); } to { opacity:1; transform:translateY(0) scale(1); } }

    .cal-top {
      display: flex; align-items: center; justify-content: space-between;
      padding: 14px 16px 10px; border-bottom: 1px solid var(--border); gap: 8px;
    }
    .cal-nav-btn {
      appearance: none; border: none; background: transparent; color: var(--muted);
      cursor: pointer; width: 28px; height: 28px; border-radius: 7px;
      display: flex; align-items: center; justify-content: center; font-size: 15px;
      transition: background 130ms, color 130ms; flex-shrink: 0;
    }
    .cal-nav-btn:hover { background: rgba(99,102,241,0.15); color: var(--accent2); }
    .cal-month-label { font-family: var(--display); font-size: 14px; font-weight: 700; color: var(--text); flex: 1; text-align: center; letter-spacing: -0.01em; }

    .cal-grid { padding: 10px 14px; }
    .cal-weekdays { display: grid; grid-template-columns: repeat(7,1fr); margin-bottom: 6px; }
    .cal-wd { text-align: center; font-size: 10.5px; font-weight: 700; letter-spacing: 0.06em; text-transform: uppercase; color: var(--muted2); padding: 4px 0; }
    .cal-days { display: grid; grid-template-columns: repeat(7,1fr); gap: 2px; }
    .cal-day {
      aspect-ratio: 1; border-radius: 8px; border: none; background: transparent;
      color: var(--muted); font-size: 13px; font-weight: 500;
      cursor: pointer; display: flex; align-items: center; justify-content: center;
      transition: background 120ms, color 120ms;
    }
    .cal-day:hover:not(.empty):not(.selected) { background: rgba(99,102,241,0.15); color: var(--accent2); }
    .cal-day.other-month { color: var(--muted2); opacity: 0.35; }
    .cal-day.today { color: var(--accent2); font-weight: 700; position: relative; }
    .cal-day.today::after {
      content: ''; position: absolute; bottom: 3px; left: 50%; transform: translateX(-50%);
      width: 4px; height: 4px; border-radius: 50%; background: var(--accent2);
    }
    .cal-day.selected {
      background: linear-gradient(135deg, var(--accent), var(--violet));
      color: #fff !important; font-weight: 700;
      box-shadow: 0 4px 14px var(--glow);
    }
    .cal-day.empty { pointer-events: none; }

    .cal-time {
      padding: 12px 16px 14px; border-top: 1px solid var(--border);
      display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: end;
    }
    .cal-time-label { font-size: 10px; font-weight: 700; letter-spacing: 0.09em; text-transform: uppercase; color: var(--muted2); margin-bottom: 6px; }
    .cal-time-inputs { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .cal-time input { padding: 8px 10px; font-size: 13px; text-align: center; }
    .cal-confirm {
      appearance: none; border: none; cursor: pointer;
      background: linear-gradient(135deg, var(--accent), var(--violet));
      color: #fff; font-family: var(--sans); font-size: 12px; font-weight: 700;
      padding: 10px 14px; border-radius: 8px; white-space: nowrap;
      box-shadow: 0 4px 14px var(--glow); transition: opacity 130ms; align-self: end;
    }
    .cal-confirm:hover { opacity: 0.88; }

    /* ══ TOOLBAR ══ */
    .toolbar {
      display: flex; align-items: center; justify-content: space-between; gap: 12px; flex-wrap: wrap;
      padding: 16px 24px; border-bottom: 1px solid var(--border); background: rgba(255,255,255,0.012);
    }
    .toolbar-left  { display: flex; gap: 8px; align-items: center; flex-wrap: wrap; }
    .toolbar-right { display: flex; gap: 8px; align-items: center; }
    .chip { display: inline-flex; align-items: center; gap: 6px; padding: 6px 13px; background: var(--bg2); border: 1px solid var(--border); border-radius: 999px; font-size: 12px; font-weight: 600; color: var(--muted); white-space: nowrap; }
    .chip-accent { background: rgba(99,102,241,0.1); border-color: rgba(99,102,241,0.3); color: var(--accent2); }

    /* ══ STATS ══ */
    .stats-row { display: grid; grid-template-columns: repeat(3,1fr); gap: 14px; margin-bottom: 18px; }
    @media (max-width: 680px) { .stats-row { grid-template-columns: 1fr; } }
    .stat-card {
      background: var(--bg2); border: 1px solid var(--border); border-radius: 16px;
      padding: 18px 20px; position: relative; overflow: hidden;
    }
    .stat-card::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, var(--accent), var(--violet)); }
    .stat-card::after  { content: ''; position: absolute; top: -40px; right: -40px; width: 120px; height: 120px; border-radius: 50%; background: radial-gradient(circle, rgba(99,102,241,0.15) 0%, transparent 70%); pointer-events: none; }
    .stat-card.blue::before   { background: linear-gradient(90deg, var(--blue), var(--cyan)); }
    .stat-card.blue::after    { background: radial-gradient(circle, rgba(59,130,246,0.15) 0%, transparent 70%); }
    .stat-card.violet::before { background: linear-gradient(90deg, var(--violet), var(--violet2)); }
    .stat-card.violet::after  { background: radial-gradient(circle, rgba(167,139,250,0.15) 0%, transparent 70%); }
    .stat-label { font-size: 10.5px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--muted); position: relative; z-index: 1; }
    .stat-value { margin-top: 10px; font-family: var(--display); font-size: 38px; font-weight: 700; letter-spacing: -0.03em; line-height: 1; color: var(--text); position: relative; z-index: 1; }
    .stat-unit  { font-size: 18px; font-weight: 500; color: var(--muted); margin-left: 2px; }
    .stat-sub   { margin-top: 6px; font-size: 12px; color: var(--muted2); font-weight: 500; position: relative; z-index: 1; }

    /* ══ CHARTS ══ */
    .charts-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
    @media (max-width: 680px) { .charts-grid { grid-template-columns: 1fr; } }
    .chart-card { background: var(--bg2); border: 1px solid var(--border); border-radius: 16px; padding: 18px 20px; }
    .chart-card-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
    .chart-card-title { font-family: var(--display); font-size: 14px; font-weight: 700; color: var(--text); display: flex; align-items: center; gap: 8px; }
    .sport-badge { display: inline-flex; align-items: center; gap: 5px; padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: 700; letter-spacing: 0.04em; }
    .sport-badge.run      { background: rgba(99,102,241,0.15); color: var(--accent2); border: 1px solid rgba(99,102,241,0.25); }
    .sport-badge.strength { background: rgba(167,139,250,0.15); color: var(--violet2); border: 1px solid rgba(167,139,250,0.25); }
    .chart-card-meta { font-size: 11.5px; color: var(--muted2); font-weight: 500; }
    .chart-wrap { position: relative; height: 230px; }
    canvas { width: 100% !important; height: 100% !important; display: block; }

    /* ══ SECTION HDR ══ */
    .section-hdr { display: flex; align-items: center; justify-content: space-between; padding: 18px 24px 12px; }
    .section-hdr-title { font-family: var(--display); font-size: 14px; font-weight: 700; color: var(--text); }
    .section-hdr-sub   { font-size: 12px; color: var(--muted2); font-weight: 500; }

    /* ══ ACTIVITY LIST ══ */
    .activities-list { display: grid; gap: 8px; padding: 0 20px 20px; }
    .activity-item {
      display: grid; grid-template-columns: auto 1fr auto; align-items: start; gap: 14px;
      padding: 14px 16px; background: var(--bg2); border: 1px solid var(--border); border-radius: 14px;
      transition: border-color 140ms, background 140ms, transform 120ms;
    }
    .activity-item:hover { background: var(--bg3); border-color: rgba(99,102,241,0.25); transform: translateY(-1px); box-shadow: 0 8px 24px rgba(0,0,0,0.3); }
    .activity-icon { width: 38px; height: 38px; border-radius: 10px; flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 18px; }
    .activity-icon.run      { background: rgba(99,102,241,0.15); }
    .activity-icon.strength { background: rgba(167,139,250,0.14); }
    .activity-body  { min-width: 0; }
    .activity-name  { font-size: 14px; font-weight: 700; color: var(--text); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .activity-when  { font-size: 12px; color: var(--muted); margin-top: 3px; }
    .activity-tags  { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 9px; }
    .tag { display: inline-flex; align-items: center; gap: 5px; padding: 4px 9px; border-radius: 6px; background: rgba(99,102,241,0.08); border: 1px solid rgba(99,102,241,0.15); color: var(--muted); font-size: 11.5px; font-weight: 600; }
    .activity-notes { margin-top: 8px; padding: 8px 12px; background: rgba(28,32,58,0.65); border-left: 2px solid rgba(99,102,241,0.5); border-radius: 0 8px 8px 0; font-size: 12.5px; color: var(--muted); line-height: 1.5; }
    .activity-id { font-family: var(--mono); font-size: 10px; color: var(--muted2); white-space: nowrap; padding-top: 3px; }

    .empty-state { padding: 48px 20px; text-align: center; color: var(--muted); border: 1px dashed rgba(99,102,241,0.2); border-radius: 14px; margin: 12px 20px; }
    .empty-state-icon  { font-size: 34px; margin-bottom: 12px; }
    .empty-state-title { font-size: 15px; font-weight: 700; color: var(--text); margin-bottom: 6px; }
    .empty-state-sub   { font-size: 13px; }

    .view { display: none; }
    .view.active { display: block; }
    .year-select-wrap select { width: auto; min-width: 110px; padding: 8px 12px; font-size: 13px; }

    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: rgba(99,102,241,0.2); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(99,102,241,0.4); }

    @keyframes fadeUp { from { opacity:0; transform:translateY(14px); } to { opacity:1; transform:translateY(0); } }
    .panel { animation: fadeUp 320ms ease both; }
    .panel:nth-child(2) { animation-delay: 60ms; }
    .stat-card { animation: fadeUp 320ms ease both; }
    .stat-card:nth-child(2) { animation-delay: 55ms; }
    .stat-card:nth-child(3) { animation-delay: 110ms; }

    /* ══ PR & RACES ══ */

    .mini-item.best { border-color: rgba(52,211,153,0.35); box-shadow: 0 10px 30px rgba(52,211,153,0.10); }
    .mini-item.best .mini-time { background: linear-gradient(135deg, rgba(52,211,153,0.95), rgba(34,211,238,0.95));
      -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; }
    .badge-best { display:inline-flex; align-items:center; gap:6px; padding: 4px 10px; border-radius: 999px;
      font-size: 11px; font-weight: 800; letter-spacing: 0.04em;
      background: rgba(52,211,153,0.12); border: 1px solid rgba(52,211,153,0.22); color: rgba(167,255,220,0.95); }
    .lock-row { display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; }
    .lock-pill { cursor:pointer; user-select:none; }
    .locked .mini-actions button { opacity: 0.35; pointer-events:none; }
    .locked .mini-form button { opacity: 0.55; }
    .pr-trend { margin-top: 6px; background: rgba(255,255,255,0.02); border: 1px solid rgba(150,160,255,0.14);
      border-radius: 14px; padding: 12px 12px; }
    .pr-trend-top { display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; margin-bottom: 10px; }
    .pr-trend-title { font-size: 12px; font-weight: 800; letter-spacing: 0.08em; text-transform: uppercase; color: var(--muted); }
    .pr-trend select { width:auto; min-width: 140px; padding: 8px 10px; font-size: 13px; }
    .pr-trend-canvas { position: relative; height: 160px; }

    .records-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; margin-top: 14px; }
    @media (max-width: 920px) { .records-grid { grid-template-columns: 1fr; } }
    .records-card { background: var(--bg2); border: 1px solid var(--border); border-radius: 16px; overflow: hidden; }
    .records-card-hdr { display:flex; align-items:flex-start; justify-content:space-between; gap:12px; padding: 16px 18px; border-bottom:1px solid rgba(150,160,255,0.14); }
    .records-card-title { font-family: var(--display); font-size: 14px; font-weight: 700; color: var(--text); }
    .records-card-sub { font-size: 12px; color: var(--muted2); margin-top: 4px; }
    .records-body { padding: 16px 18px; display: grid; gap: 12px; }
    .mini-form { display:grid; gap:10px; }
    .mini-form .row2, .mini-form .row3 { gap: 10px; }
    .mini-form input, .mini-form select { padding: 9px 12px; font-size: 13px; }
    .mini-form .btn-primary { padding: 11px 14px; font-size: 13px; box-shadow:none; }
    .list-mini { display:grid; gap:8px; margin-top: 6px; }
    .mini-item { display:grid; grid-template-columns: 1fr auto; gap: 10px; align-items:start;
      padding: 12px 12px; background: rgba(28,32,58,0.55); border: 1px solid rgba(150,160,255,0.14); border-radius: 14px; }
    .mini-main { min-width:0; }
    .mini-top { display:flex; align-items:baseline; justify-content:space-between; gap:10px; }
    .mini-name { font-size: 13.5px; font-weight: 800; color: var(--text); overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }
    .mini-time { font-family: var(--display); font-size: 15px; font-weight: 800; letter-spacing:-0.01em; color: #fff; }
    .mini-meta { margin-top: 4px; font-size: 12px; color: var(--muted); display:flex; flex-wrap:wrap; gap:8px; }
    .pill { display:inline-flex; align-items:center; gap:6px; padding: 4px 10px; border-radius: 999px; font-size: 11.5px; font-weight: 700;
      background: rgba(99,102,241,0.10); border: 1px solid rgba(99,102,241,0.22); color: var(--accent2); }
    .pill.soft { background: rgba(255,255,255,0.04); border-color: rgba(150,160,255,0.18); color: var(--muted); font-weight:600; }
    .mini-actions { display:flex; gap:6px; }
    .mini-actions .btn-ghost { padding: 7px 10px; font-size: 12px; border-radius: 10px; }
    .mini-actions .danger { border-color: rgba(248,113,113,0.55); color: var(--bad); }
    .note-mini { margin-top: 8px; font-size: 12px; color: var(--muted2); line-height: 1.45; }

  
    /* Golf (inline tab) */
    .golf-grid { display:grid; grid-template-columns: 420px 1fr; gap: 14px; }
    @media (max-width: 980px){ .golf-grid{ grid-template-columns: 1fr; } }
    .stat-row { display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
    @media (max-width: 640px){ .stat-row{ grid-template-columns: 1fr; } }


/* ───────── Mobile App Optimization ───────── */

@media (max-width: 768px){

  body {
    padding-bottom: 90px;
  }

  .topbar {
    position: sticky;
    top: 0;
    z-index: 1000;
    backdrop-filter: blur(12px);
  }

  .panel {
    border-radius: 18px;
  }

  .kpi-card {
    padding: 18px;
  }

  .btn-primary,
  .btn-ghost {
    min-height: 48px;
    font-size: 16px;
  }

  input, select {
    min-height: 48px;
    font-size: 16px;
  }

  /* Bottom Navigation */
  .mobile-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 70px;
    display: flex;
    background: rgba(10,12,22,0.95);
    backdrop-filter: blur(12px);
    border-top: 1px solid rgba(255,255,255,0.06);
    z-index: 2000;
  }

  .mobile-nav button {
    flex: 1;
    background: none;
    border: none;
    color: rgba(255,255,255,0.7);
    font-size: 13px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
  }

  .mobile-nav button.active {
    color: #6C7CFF;
  }

  .nav-tabs {
    display: none;
  }

}


/* Fix bottom nav visibility & iOS click issues */

.mobile-nav {
  display: none;
}

@media (max-width: 768px){
  .mobile-nav {
    display: flex;
  }
}

/* Prevent nav overlay blocking clicks */
@media (max-width: 768px){
  .view {
    padding-bottom: 90px;
  }
}


/* ───────── iOS-like bottom nav + no horizontal scroll ───────── */

/* No sideways scroll (global) */
html, body {
  overflow-x: hidden;
  width: 100%;
}
*, *::before, *::after { box-sizing: border-box; }

/* Avoid wide elements forcing overflow */
img, canvas, svg, video { max-width: 100%; }
table { width: 100%; }
pre, code { white-space: pre-wrap; word-break: break-word; }

/* Ensure main containers never exceed viewport */
.container, .main-content, .view, .panel, .kpi-grid, .list, .list-mini {
  max-width: 100%;
}

/* iOS-like bottom nav styling */
@media (max-width: 768px){
  body { padding-bottom: calc(86px + env(safe-area-inset-bottom)); }
  .mobile-nav{
    height: calc(74px + env(safe-area-inset-bottom));
    padding: 10px 10px calc(10px + env(safe-area-inset-bottom)) 10px;
    background: rgba(12, 14, 26, 0.86);
    border-top: 1px solid rgba(255,255,255,0.08);
    border-radius: 18px 18px 0 0;
    margin: 0 10px 0 10px;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: 0 -12px 28px rgba(0,0,0,0.35);
  }
  .mobile-nav button{
    border-radius: 14px;
    padding: 10px 6px;
    transition: transform 120ms ease, background 120ms ease;
  }
  .mobile-nav button:active{
    transform: scale(0.98);
  }
  .mobile-nav button.active{
    background: rgba(108,124,255,0.14);
    color: #9aa6ff;
  }
  .mobile-nav button span{
    font-size: 12px;
    letter-spacing: 0.2px;
  }
}

/* Prevent accidental sideways drag from charts */
@media (max-width: 768px){
  .panel-body { overflow-x: hidden; }
}


/* ───────── Mobile click reliability (iOS) ───────── */
@media (max-width: 768px){
  .mobile-nav, .mobile-nav * { pointer-events: auto; }
  .mobile-nav button{
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
  }
}


/* ── Date-only calendar: hide time controls ── */
.cal-time,
.cal-time-label,
.cal-time-inputs,
.cal-time-row,
#calHour,
#calMinute,
#calHourWrap,
#calMinuteWrap {
  display: none !important;
}


/* ── Date-only calendar (activities): hide time + improve tap ── */
.cal-time { display:none !important; }
.calendar-popup{ z-index: 5000; pointer-events: auto; }
.cal-day{ pointer-events:auto; }


/* ── Charts layout: 2 cols + full-width card ── */
.charts-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
}
.chart-card.span-2{ grid-column: 1 / -1; }

@media (max-width: 900px){
  .charts-grid{ grid-template-columns: 1fr; }
  .chart-card.span-2{ grid-column: auto; }
}


/* ── Brand logo image ── */
.brand-logo{
  height: 44px;
  width: auto;
  display:block;
  filter: drop-shadow(0 10px 24px rgba(0,0,0,0.35));
}
@media (max-width: 768px){
  .brand-logo{ height: 34px; }
}

</style>

  <style>
    html.auth-pending body { visibility: hidden; }
  
    /* Golf (inline tab) */
    .golf-grid { display:grid; grid-template-columns: 420px 1fr; gap: 14px; }
    @media (max-width: 980px){ .golf-grid{ grid-template-columns: 1fr; } }
    .stat-row { display:grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
    @media (max-width: 640px){ .stat-row{ grid-template-columns: 1fr; } }


/* ───────── Mobile App Optimization ───────── */

@media (max-width: 768px){

  body {
    padding-bottom: 90px;
  }

  .topbar {
    position: sticky;
    top: 0;
    z-index: 1000;
    backdrop-filter: blur(12px);
  }

  .panel {
    border-radius: 18px;
  }

  .kpi-card {
    padding: 18px;
  }

  .btn-primary,
  .btn-ghost {
    min-height: 48px;
    font-size: 16px;
  }

  input, select {
    min-height: 48px;
    font-size: 16px;
  }

  /* Bottom Navigation */
  .mobile-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: 70px;
    display: flex;
    background: rgba(10,12,22,0.95);
    backdrop-filter: blur(12px);
    border-top: 1px solid rgba(255,255,255,0.06);
    z-index: 2000;
  }

  .mobile-nav button {
    flex: 1;
    background: none;
    border: none;
    color: rgba(255,255,255,0.7);
    font-size: 13px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
  }

  .mobile-nav button.active {
    color: #6C7CFF;
  }

  .nav-tabs {
    display: none;
  }

}


/* Fix bottom nav visibility & iOS click issues */

.mobile-nav {
  display: none;
}

@media (max-width: 768px){
  .mobile-nav {
    display: flex;
  }
}

/* Prevent nav overlay blocking clicks */
@media (max-width: 768px){
  .view {
    padding-bottom: 90px;
  }
}


/* ───────── iOS-like bottom nav + no horizontal scroll ───────── */

/* No sideways scroll (global) */
html, body {
  overflow-x: hidden;
  width: 100%;
}
*, *::before, *::after { box-sizing: border-box; }

/* Avoid wide elements forcing overflow */
img, canvas, svg, video { max-width: 100%; }
table { width: 100%; }
pre, code { white-space: pre-wrap; word-break: break-word; }

/* Ensure main containers never exceed viewport */
.container, .main-content, .view, .panel, .kpi-grid, .list, .list-mini {
  max-width: 100%;
}

/* iOS-like bottom nav styling */
@media (max-width: 768px){
  body { padding-bottom: calc(86px + env(safe-area-inset-bottom)); }
  .mobile-nav{
    height: calc(74px + env(safe-area-inset-bottom));
    padding: 10px 10px calc(10px + env(safe-area-inset-bottom)) 10px;
    background: rgba(12, 14, 26, 0.86);
    border-top: 1px solid rgba(255,255,255,0.08);
    border-radius: 18px 18px 0 0;
    margin: 0 10px 0 10px;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: 0 -12px 28px rgba(0,0,0,0.35);
  }
  .mobile-nav button{
    border-radius: 14px;
    padding: 10px 6px;
    transition: transform 120ms ease, background 120ms ease;
  }
  .mobile-nav button:active{
    transform: scale(0.98);
  }
  .mobile-nav button.active{
    background: rgba(108,124,255,0.14);
    color: #9aa6ff;
  }
  .mobile-nav button span{
    font-size: 12px;
    letter-spacing: 0.2px;
  }
}

/* Prevent accidental sideways drag from charts */
@media (max-width: 768px){
  .panel-body { overflow-x: hidden; }
}


/* ───────── Mobile click reliability (iOS) ───────── */
@media (max-width: 768px){
  .mobile-nav, .mobile-nav * { pointer-events: auto; }
  .mobile-nav button{
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
  }
}


/* ── Date-only calendar: hide time controls ── */
.cal-time,
.cal-time-label,
.cal-time-inputs,
.cal-time-row,
#calHour,
#calMinute,
#calHourWrap,
#calMinuteWrap {
  display: none !important;
}


/* ── Date-only calendar (activities): hide time + improve tap ── */
.cal-time { display:none !important; }
.calendar-popup{ z-index: 5000; pointer-events: auto; }
.cal-day{ pointer-events:auto; }


/* ── Charts layout: 2 cols + full-width card ── */
.charts-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
}
.chart-card.span-2{ grid-column: 1 / -1; }

@media (max-width: 900px){
  .charts-grid{ grid-template-columns: 1fr; }
  .chart-card.span-2{ grid-column: auto; }
}


/* ── Brand logo image ── */
.brand-logo{
  height: 44px;
  width: auto;
  display:block;
  filter: drop-shadow(0 10px 24px rgba(0,0,0,0.35));
}
@media (max-width: 768px){
  .brand-logo{ height: 34px; }
}

</style>

</head>
<body>

<header class="topbar">
  <!-- Left: Brand -->
  <div class="brand">
    <img class="brand-logo" src="data:image/png;base64,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BAgQIECAAAECBAgQKF9AQgIECBAgQIBAeQIKAMrrU4kIECBA4GgFfJ4AAQIECBAgQIAAAQIECBAoX0BCAgQIECBAgECBAgoACuxUkQgQIEDg6AR8mgABAgQIECBAgAABAgQIEChfQEICBAgQIECAQIkCCgBK7FWZCBAgQOBoBHyWAAECBAgQIECAAAECBAgQKF9AQgIECBAgQIBAkQIKAIrsVqEIECBA4MgFfJIAAQIECBAgQIAAAQIECBAoX0BCAgQIECBAgECZAgoAyuxXqQgQIEDgSAV8jgABAgQIECBAgAABAgQIEChfQEICBAgQIECAQKECCgAK7VixCBAgQODIBHyKAAECBAgQIECAAAECBAgQKF9AQgIECBAgQIBAqQIKAErtWbkIECBA4EgEfIYAAQIECBAgQIAAAQIECBAoX0BCAgQIECBAgECxAgoAiu1awQgQIEDg8AV8ggABAgQIECBAgAABAgQIEChfQEICBAgQIECAQLkCCgDK7VvJCBAgQOBwBexPgAABAgQIECBAgAABAgQIlC8gIQECBAgQIECgYAEFAAV3rmgECBAgcHgC9iZAgAABAgQIECBAgAABAgTKF5CQAAECBAgQIFCygAKAkntXNgIECBA4HAH7EiBAgAABAgQIECBAgAABAuULSEiAAAECBAgQKFpAAUDR3SscAQIECMxewJ4ECBAgQIAAAQIECBAgQIBA+QISEiBAgAABAgTKFlAAUHb/SkeAAAECsxWwHwECBAgQIECAAAECBAgQIFC+gIQECBAgQIAAgcIFFAAU3sHiESBAgMDsBOxFgAABAgQIECBAgAABAgQIlC8gIQECBAgQIECgdAEFAKX3sHwECBAgMBsB+xAgQIAAAQIECBAgQIAAAQLlC0hIgAABAgQIECheQAFA8V0sIAECBAjMLGAPAgQIECBAgAABAgQIECBAoHwBCQkQIECAAAEC5QsoACi/jyUkQIAAgZkEbCdAgAABAgQIECBAgAABAgTKF5CQAAECBAgQINAAAQUADehkEQkQIEDg0AK2EiBAgAABAgQIECBAgAABAuULSEiAAAECBAgQaIKAAoAm9LKMBAgQIHAoAdsIECBAgAABAgQIECBAgACB8gUkJECAAAECBAg0QkABQCO6WUgCBAgQmF7AFgIECBAgQIAAAQIECBAgQKB8AQkJECBAgAABAs0QUADQjH6WkgABAgSmE7CeAAECBAgQIECAAAECBAgQKF9AQgIECBAgQIBAQwQUADSko8UkQIAAgakFrCVAgAABAgQIECBAgAABAgTKF5CQAAECBAgQINAUAQUATelpOQkQIEBgKgHrCBAgQIAAAQIECBAgQIAAgfIFJCRAgAABAgQINEZAAUBjulpQAgQIEDhYwBoCBAgQIECAAAECBAgQIECgfAEJCRAgQIAAAQLNEVAA0Jy+rpNW+dtRzrH+fD6MiQABAgUIiECAAAECBAgQIECAAAECBAiULyAhAQIECBAgQKBBAgoAGtLZw8Obntg+2Nc++nnjyQ0hE5MAgQYIiEiAAAECBAgQIECAAAECBAiULyAhAQIECBAgQKBJAgoAmtTbshIgQIBAr4BlAgQIECBAgAABAgQIECBAoHwBCQkQIECAAAECjRJQANCo7haWAAECBPYLWCJAgAABAgQIECBAgAABAgTKF5CQAAECBAgQINAsAQUAzepvaQkQIECgK+CVAAECBAgQIECAAAECBAgQKF9AQgIECBAgQIBAwwQUADSsw8UlQIAAgX0CvhMgQIAAAQIECBAgQIAAAQLlC0hIgAABAgQIEGiagAKApvW4vAQIECBQC5gJECBAgAABAgQIECBAgACB8gUkJECAAAECBAg0TkABQOO6XGACBAgQCIEBAQIECBAgQIAAAQIECBAgUL6AhAQIECBAgACB5gkoAGhen0tMgAABAgQIECBAgAABAgQIECBAgACB8gUkJECAAAECBAg0UEABQAM7XWQCBAg0XUB+AgQIECBAgAABAgQIECBAoHwBCQkQIECAAAECTRRQANDEXpeZAAECzRaQngABAgQIECBAgAABAgQIEChfQEICBAgQIECAQCMFFAA0stuFJkCAQJMFZCdAgAABAgQIECBAgAABAgTKF5CQAAECBAgQINBMAQUAzex3qQkQINBcAckJECBAgAABAgQIECBAgACB8gUkJECAAAECBAg0VEABQEM7XmwCBAg0VUBuAgQIECBAgAABAgQIECBAoHwBCQkQIECAAAECTRVQANDUnpebAAECzRSQmgABAgQIECBAgAABAgQIEChfQEICBAgQIECAQGMFFAA0tusFJ0CAQBMFZCZAgAABAgQIECBAgAABAgTKF5CQAAECBAgQINBcAQUAze17yQkQINA8AYkJECBAgAABAgQIECBAgACB8gUkJECAAAECBAg0WEABQIM7X3QCBAg0TUBeAgQIECBAgAABAgQIECBAoHwBCQkQIECAAAECTRZQANDk3pedAAECzRKQlgABAgQIECBAgAABAgQIEChfQEICBAgQIECAQKMFFAA0uvuFJ0CAQJMEZCVAgAABAgQIECBAgAABAgTKF5CQAAECBAgQINBsAQUAze5/6QkQINAcAUkJECBAgAABAgQIECBAgACB8gUkJECAAAECBAg0XEABQMMvAPEJECDQFAE5CRAgQIAAAQIECBAgQIAAgfIFJCRAgAABAgQINF1AAUDTrwD5CRAg0AwBKQkQIECAAAECBAgQIECAAIHyBSQkQIAAAQIECDReQAFA4y8BAAQIEGiCgIwECBAgQIAAAQIECBAgQIBA+QISEiBAgAABAgQIKABwDRAgQIBA+QISEiBAgAABAgQIECBAgAABAuULSEiAAAECBAgQIBAUALgICBAgQKB4AQEJECBAgAABAgQIECBAgACB8gUkJECAAAECBAgQCAoAXAQECBAgULyAgAQIECBAgAABAgQIECBAgED5AhISIECAAAECBAhkAU8AyAgmAgQIEChZQDYCBAgQIECAAAECBAgQIECgfAEJCRAgQIAAAQIEagEFALWCmQABAgTKFZCMAAECBAgQIECAAAECBAgQKF9AQgIECBAgQIAAgb0CCgD2MvhGgAABAqUKyEWAAAECBAgQIECAAAECBAiULyAhAQIECBAgQIDAPgEFAPscfCdAgACBMgWkIkCAAAECBAgQIECAAAECBMoXkJAAAQIECBAgQOAZAQUAz0B4IUCAAIESBWQiQIAAAQIECBAgQIAAAQIEyheQkAABAgQIECBAoCugAKAr4ZUAAQIEyhOQiAABAgQIECBAgAABAgQIEChfQEICBAgQIECAAIEJAQUAExQWCBAgQKA+LVPmAAAGGElEQVQ0AXkIECBAgAABAgQIECBAgACB8gUkJECAAAECBAgQ2C+gAGC/hSUCBAgQKEtAGgIECBAgQIAAAQIECBAgQKB8AQkJECBAgAABAgR6BBQA9GBYJECAAIGSBGQhQIAAAQIECBAgQIAAAQIEyheQkAABAgQIECBAoFdAAUCvhmUCBAgQKEdAEgIECBAgQIAAAQIECBAgQKB8AQkJECBAgAABAgQOEFAAcACHNwQIECBQioAcBAgQIECAAAECBAgQIECAQPkCEhIgQIAAAQIECBwooADgQA/vCBAgQKAMASkIECBAgAABAgQIECBAgACB8gUkJECAAAECBAgQmCSgAGASiLcECBAgUIKADAQIECBAgAABAgQIECBAgED5AhISIECAAAECBAhMFlAAMFnEewIECBBY+AISECBAgAABAgQIECBAgAABAuULSEiAAAECBAgQIHCQgAKAg0isIECAAIGFLqD9BAgQIECAAAECBAgQIECAQPkCEhIgQIAAAQIECBwsoADgYBNrCBAgQGBhC2g9AQIECBAgQIAAAQIECBAgUL6AhAQIECBAgAABAlMIKACYAsUqAgQIEFjIAtpOgAABAgQIECBAgAABAgQIlC8gIQECBAgQIECAwFQCCgCmUrGOAAECBBaugJYTIECAAAECBAgQIECAAAEC5QtISIAAAQIECBAgMKWAAoApWawkQIAAgYUqoN0ECBAgQIAAAQIECBAgQIBA+QISEiBAgAABAgQITC2gAGBqF2sJECBAYGEKaDUBAgQIECBAgAABAgQIECBQvoCEBAgQIECAAAEC0wgoAJgGxmoCBAgQWIgC2kyAAAECBAgQIECAAAECBAiULyAhAQIECBAgQIDAdAIKAKaTsZ4AAQIEFp6AFhMgQIAAAQIECBAgQIAAAQLlC0hIgAABAgQIECAwrYACgGlpbCBAgACBhSagvQQIECBAgAABAgQIECBAgED5AhISIECAAAECBAhML6AAYHobWwgQIEBgYQloLQECBAgQIECAAAECBAgQIFC+gIQECBAgQIAAAQKHEFAAcAgcmwgQIEBgIQloKwECBAgQIECAAAECBAgQIFC+gIQECBAgQIAAAQKHElAAcCgd2wgQIEBg4QhoKQECBAgQIECAAAECBAgQIFC+gIQECBAgQIAAAQKHFFAAcEgeGwkQIEBgoQhoJwECBAgQIECAAAECBAgQIFC+gIQECBAgQIAAAQKHFlAAcGgfWwkQIEBgYQhoJQECBAgQIECAAAECBAgQIFC+gIQECBAgQIAAAQIzCCgAmAHIZgIECBBYCALaSIAAAQIECBAgQIAAAQIECJQvICEBAgQIECBAgMBMAgoAZhKynQABAgTmv4AWEiBAgAABAgQIECBAgAABAuULSEiAAAECBAgQIDCjgAKAGYnsQIAAAQLzXUD7CBAgQIAAAQIECBAgQIAAgfIFJCRAgAABAgQIEJhZQAHAzEb2IECAAIH5LaB1BAgQIECAAAECBAgQIECAQPkCEhIgQIAAAQIECMxCQAHALJDsQoAAAQLzWUDbCBAgQIAAAQIECBAgQIAAgfIFJCRAgAABAgQIEJiNgAKA2SjZhwABAgTmr4CWESBAgAABAgQIECBAgAABAuULSEiAAAECBAgQIDArAQUAs2KyEwECBAjMVwHtIkCAAAECBAgQIECAAAECBMoXkJAAAQIECBAgQGB2AgoAZudkLwIECBCYnwJaRYAAAQIECBAgQIAAAQIECJQvICEBAgQIECBAgMAsBRQAzBLKbgQIECAwHwW0iQABAgQIECBAgAABAgQIEChfQEICBAgQIECAAIHZCigAmK2U/QgQIEBg/gloEQECBAgQIECAAAECBAgQIFC+gIQECBAgQIAAAQKzFlAAMGsqOxIgQIDAfBPQHgIECBAgQIAAAQIECBAgQKB8AQkJECBAgAABAgRmL6AAYPZW9iRAgACB+SWgNQQIECBAgAABAgQIECBAgED5AhISIECAAAECBAgchoACgMPAsisBAgQIzCcBbSFAgAABAgQIECBAgAABAgTKF5CQAAECBAgQIEDgcAT+DwAA//9ey2S2AAAABklEQVQDALNSDfNHh60vAAAAAElFTkSuQmCC" alt="Trainify Pro" />
  </div>

  <!-- Center: Nav -->
  <nav class="nav-tabs nav-center">
    <button class="nav-tab active" id="tabDash"  type="button">Dashboard</button>
    <button class="nav-tab"        id="tabLogg"  type="button">Träningslogg</button>
    <button class="nav-tab"        id="tabGolf"  type="button">Golf</button>
  </nav>

  <!-- Right: Status pills -->
  <div class="topbar-right" data-build="app_v3">
    <div class="status-pill"><span class="status-dot"></span>Live</div>
    <div class="status-pill" id="pillYear">År: —</div>
    <div class="status-pill soft" title="Build">v40-stable</div>
    <button class="btn-ghost" id="btnSignOut" type="button" style="margin-left:8px;">Logga ut</button>
  </div>
</header>

<div class="page-wrap">

  <!-- FORM centered top -->
  <div class="top-form-row">
    <section class="panel">
      <div class="panel-header">
        <div>
          <div class="panel-title">Lägg till pass</div>
          <div class="panel-subtitle">Registrera ett nytt träningspass manuellt.</div>
        </div>
      </div>
      <div class="panel-body">
        <form id="activity-form" class="form" autocomplete="off">

          <div class="field">
            <label class="field-label">Datum</label>
            <div class="date-picker-wrap">
              <div class="date-display" id="dateDisplay" tabindex="0" role="button" aria-label="Välj datum">
                <span id="dateDisplayText" class="placeholder">Välj datum…</span>
                <span class="cal-icon">📅</span>
              </div>
              <div class="calendar-popup" id="calendarPopup">
                <div class="cal-top">
                  <button class="cal-nav-btn" id="calPrev" type="button">‹</button>
                  <span class="cal-month-label" id="calMonthLabel"></span>
                  <button class="cal-nav-btn" id="calNext" type="button">›</button>
                </div>
                <div class="cal-grid">
                  <div class="cal-weekdays">
                    <div class="cal-wd">Mån</div><div class="cal-wd">Tis</div><div class="cal-wd">Ons</div>
                    <div class="cal-wd">Tor</div><div class="cal-wd">Fre</div><div class="cal-wd">Lör</div>
                    <div class="cal-wd">Sön</div>
                  </div>
                  <div class="cal-days" id="calDays"></div>
                </div>
                <div class="cal-time">
                  <div>
                    <div class="cal-time-label">Klockslag</div>
                    <div class="cal-time-inputs">
                      <input type="number" id="calHour"   min="0" max="23" placeholder="HH" value="12">
                      <input type="number" id="calMinute" min="0" max="59" placeholder="MM" value="00">
                    </div>
                  </div>
                  <button class="cal-confirm" id="calConfirm" type="button">Bekräfta</button>
                </div>
              </div>
            </div>
            <input type="hidden" id="start_time" required />
          </div>

          <div class="field">
            <label class="field-label" for="sport">Sport</label>
            <select id="sport" required>
              <option value="Löpning">🏃 Löpning</option>
              <option value="Styrketräning">💪 Styrketräning</option>
            </select>
          </div>

          <div class="field">
            <label class="field-label" for="name">Passnamn (valfritt)</label>
            <input type="text" id="name" placeholder="t.ex. Intervaller / Helkropp" />
          </div>

          <div class="row3">
            <div class="field">
              <label class="field-label" for="duration_h">Timmar</label>
              <input type="number" id="duration_h" min="0" placeholder="0" />
            </div>
            <div class="field">
              <label class="field-label" for="duration_min">Minuter</label>
              <input type="number" id="duration_min" min="0" max="59" placeholder="45" />
            </div>
            <div class="field" id="distanceField">
              <label class="field-label" for="distance_km">Distans (km)</label>
              <input type="number" id="distance_km" min="0" step="0.01" placeholder="10.00" />
            </div>
          </div>

          
          <div class="row2" id="loadFieldRow" style="margin-top:10px;">
            <div class="field" id="loadField">
              <label class="field-label" for="training_load">Training Load (valfritt)</label>
              <input type="number" id="training_load" min="0" step="1" placeholder="t.ex. 85" inputmode="numeric" />
              <div class="hint-text">Enkelt tal per löppass (t.ex. RPE×tid eller TRIMP). Visas i loggen och kan summeras i graf.</div>
            </div>
          </div>

          <div class="hint-text" id="paceHint">Tempo (min/km) beräknas automatiskt om distans + tid finns.</div>

          <div class="field">
            <label class="field-label" for="notes">Anteckningar (valfritt)</label>
            <input type="text" id="notes" placeholder="Känsla, upplägg, vikter…" />
          </div>

          <button class="btn-primary" type="submit">Spara pass</button>
          <div id="msg" class="msg" aria-live="polite"></div>
        </form>
      </div>
      <div class="panel-footer">Importerade aktiviteter skapar inga dubletter vid omimport.</div>
    </section>
  </div>

  <!-- DASHBOARD / LOG -->
  <div class="main-content">
  <div class="panel" style="padding:0; overflow:visible;">
    <div class="toolbar">
      <div class="toolbar-left">
        <div class="chip chip-accent" id="countChip">— pass</div>
        <div class="chip" id="lastChip">Senast: —</div>
      </div>
      <div class="toolbar-right year-select-wrap">
        <select id="yearSelect"><option value="">År…</option></select>
        <button class="btn-ghost" id="reloadBtn" type="button">↻ Uppdatera</button>
      </div>
    </div>

    <div class="view active" id="viewDash">
      <div class="panel-body" style="padding-top:22px; padding-bottom:22px;">
        <div class="stats-row">
          <div class="stat-card">
            <div class="stat-label">Totalt antal pass</div>
            <div class="stat-value" id="statTotalSessions">—</div>
            <div class="stat-sub" id="subYear">Valda året</div>
          </div>
          <div class="stat-card blue">
            <div class="stat-label">Total tid</div>
            <div class="stat-value" id="statTotalHours">—<span class="stat-unit">h</span></div>
            <div class="stat-sub">Valda året</div>
          </div>
          <div class="stat-card violet">
            <div class="stat-label">Löpning distans</div>
            <div class="stat-value" id="statRunKm">—<span class="stat-unit">km</span></div>
            <div class="stat-sub">Valda året</div>
          </div>
        </div>
        <div class="charts-grid">
          <div class="chart-card">
            <div class="chart-card-header">
              <div class="chart-card-title"><span class="sport-badge strength">💪 Styrketräning</span></div>
              <div class="chart-card-meta">Totala timmar / månad</div>
            </div>
            <div class="chart-wrap"><canvas id="chartStrength"></canvas></div>
          </div>

          <div class="chart-card">
            <div class="chart-card-header">
              <div class="chart-card-title"><span class="sport-badge run">🏃 Löpning</span></div>
              <div class="chart-card-meta">Sträcka (mil) + tid / månad</div>
            </div>
            <div class="chart-wrap"><canvas id="chartRun"></canvas></div>
          </div>

          <div class="chart-card span-2">
            <div class="chart-card-header">
              <div class="chart-card-title"><span class="sport-badge run">📈 Training Load</span></div>
              <div class="chart-card-meta">Summa / vecka (valda året)</div>
            </div>
            <div class="chart-wrap"><canvas id="chartRunLoad"></canvas></div>
          </div>
        </div>
      </div>

      <div class="records-grid">
          <!-- Personal Records -->
          <section class="records-card">
            <div class="records-card-hdr lock-row">
              <div>
                <div class="records-card-title">🏅 Personliga rekord</div>
                <div class="records-card-sub">Spara dina bästa tider – visas som en snygg lista.</div>
              </div>
              <div class="pill soft lock-pill" id="lockPill" title="Klicka för att låsa upp redigering">🔒 Låst</div>
            </div>
            <div class="records-body">
              <form id="prForm" class="mini-form" autocomplete="off">
                <div class="row2">
                  <div class="field">
                    <label class="field-label" for="prType">Distans</label>
                    <select id="prType" required>
                      <option value="5 km">5 km</option>
                      <option value="10 km">10 km</option>
                      <option value="Halvmarathon">Halvmarathon</option>
                      <option value="Marathon">Marathon</option>
                      <option value="Ultra">Ultra</option>
                    </select>
                  </div>
                  <div class="field">
                    <label class="field-label" for="prTime">Tid (hh:mm:ss)</label>
                    <input id="prTime" type="text" placeholder="t.ex. 00:19:45" required />
                  </div>
                </div>
                <div class="row3">
                  <div class="field">
                    <label class="field-label" for="prDate">Datum</label>
                    <input id="prDate" type="date" />
                  </div>
                  <div class="field">
                    <label class="field-label" for="prEvent">Tävling (valfritt)</label>
                    <input id="prEvent" type="text" placeholder="t.ex. Göteborgsvarvet" />
                  </div>
                  <div class="field">
                    <label class="field-label" for="prNotes">Notis</label>
                    <input id="prNotes" type="text" placeholder="t.ex. bra form / kuperat" />
                  </div>
                </div>
                <button class="btn-primary" type="submit" id="prSubmitBtn">Spara PR</button>
                <div id="prMsg" class="msg" aria-live="polite"></div>
              </form>

              <div class="list-mini" id="prList">
                <div class="empty-state" style="margin:0; padding:18px 14px;">
                  <div class="empty-state-icon">✨</div>
                  <div class="empty-state-title">Inga PR ännu</div>
                  <div class="empty-state-sub">Lägg in din bästa tid så dyker den upp här.</div>
                </div>
              
              <div class="pr-trend">
                <div class="pr-trend-top">
                  <div class="pr-trend-title">PR-trend</div>
                  <select id="prTrendSelect" aria-label="Välj distans för PR-trend">
                    <option value="5 km">5 km</option>
                    <option value="10 km">10 km</option>
                    <option value="Halvmarathon">Halvmarathon</option>
                    <option value="Marathon">Marathon</option>
                    <option value="Ultra">Ultra</option>
                  </select>
                </div>
                <div class="pr-trend-canvas"><canvas id="chartPRTrend"></canvas></div>
              </div>

            </div>
          </section>

          <!-- Race Results -->
          <section class="records-card">
            <div class="records-card-hdr">
              <div>
                <div class="records-card-title">🏁 Tävlingar & resultat</div>
                <div class="records-card-sub">Logga lopp, distanser och tider – perfekt för historik.</div>
              </div>
              <div class="pill soft">RACE</div>
            </div>
            <div class="records-body">
              <form id="raceForm" class="mini-form" autocomplete="off">
                <div class="row2">
                  <div class="field">
                    <label class="field-label" for="raceName">Tävling / pass</label>
                    <input id="raceName" type="text" placeholder="t.ex. Lidingöloppet" required />
                  </div>
                  <div class="field">
                    <label class="field-label" for="raceDistance">Distans</label>
                    <input id="raceDistance" type="text" placeholder="t.ex. 15 km / 5 km / 50 km" required />
                  </div>
                </div>
                <div class="row3">
                  <div class="field">
                    <label class="field-label" for="raceTime">Tid (hh:mm:ss)</label>
                    <input id="raceTime" type="text" placeholder="t.ex. 01:29:10" required />
                  </div>
                  <div class="field">
                    <label class="field-label" for="raceDate">Datum</label>
                    <input id="raceDate" type="date" />
                  </div>
                  <div class="field">
                    <label class="field-label" for="raceLocation">Plats (valfritt)</label>
                    <input id="raceLocation" type="text" placeholder="t.ex. Stockholm" />
                  </div>
                </div>
                <div class="field">
                  <label class="field-label" for="raceNotes">Anteckningar (valfritt)</label>
                  <input id="raceNotes" type="text" placeholder="t.ex. väder, upplägg, placering…" />
                </div>
                <button class="btn-primary" type="submit" id="raceSubmitBtn">Spara resultat</button>
                <div id="raceMsg" class="msg" aria-live="polite"></div>
              </form>

              <div class="filter-row filters" style="display:flex; gap:10px; align-items:end; margin:10px 0 12px; flex-wrap:wrap;"><div class="field" style="min-width:160px;"><label class="field-label" for="raceYearFilter">Filtrera år</label><select id="raceYearFilter"><option value="all">Alla år</option></select></div><div class="field" style="min-width:160px;"><label class="field-label">&nbsp;</label><button class="btn-ghost wide" id="btnClearRaceFilter" type="button">Rensa</button></div></div>
<div class="list-mini" id="raceList">
                <div class="empty-state" style="margin:0; padding:18px 14px;">
                  <div class="empty-state-icon">🗓️</div>
                  <div class="empty-state-title">Inga tävlingar ännu</div>
                  <div class="empty-state-sub">När du lägger till ett resultat visas det här.</div>
                </div>
              </div>
            </div>
          </section>
        </div>

      </div>
    </div>

    <div class="view" id="viewLogg">
      <div class="section-hdr">
        <div class="section-hdr-title">Senaste pass</div>
        <div class="section-hdr-sub">Visar upp till 60 pass</div>
      </div>
      <div class="filter-row filters" style="display:flex; gap:10px; align-items:end; margin:10px 0 14px; flex-wrap:wrap;">
        <div class="field" style="min-width:160px;">
          <label class="field-label" for="logYearFilter">År</label>
          <select id="logYearFilter"><option value="all">Alla år</option></select>
        </div>
        <div class="field" style="min-width:160px;">
          <label class="field-label" for="logMonthFilter">Månad</label>
          <select id="logMonthFilter">
            <option value="all">Alla månader</option>
            <option value="1">Januari</option><option value="2">Februari</option><option value="3">Mars</option><option value="4">April</option>
            <option value="5">Maj</option><option value="6">Juni</option><option value="7">Juli</option><option value="8">Augusti</option>
            <option value="9">September</option><option value="10">Oktober</option><option value="11">November</option><option value="12">December</option>
          </select>
        </div>
        <div class="field" style="min-width:160px;">
          <label class="field-label">&nbsp;</label>
          <button class="btn-ghost wide" id="btnClearLogFilters" type="button">Rensa filter</button>
        </div>
      </div>

      <div id="activities" class="empty-state">
        <div class="empty-state-icon">⏳</div>
        <div class="empty-state-title">Laddar aktiviteter…</div>
      </div>
    </div>
  
    <div class="view" id="viewGolf">
      <div class="panel-body" style="padding-top:22px; padding-bottom:22px;">
        <div class="golf-grid">
          <!-- Left: form -->
          <section class="panel" style="margin:0;">
            <div class="panel-header">
              <div>
                <div class="panel-title">⛳ Ny runda</div>
                <div class="panel-subtitle">Lägg in datum, bana, 9/18, slag, poäng och statistik.</div>
              </div>
            </div>
            <div class="panel-body">
              <form id="golfForm" class="form" autocomplete="off">
                <div class="row2">
                  <div class="field">
                    <label class="field-label" for="gDate">Datum</label>
                    <input id="gDate" type="date" required />
                  </div>
                  <div class="field">
                    <label class="field-label" for="gCourse">Bana</label>
                    <input id="gCourse" type="text" placeholder="t.ex. Bro Hof" required />
                  </div>
                </div>

                <div class="row2">
                  <div class="field">
                    <label class="field-label" for="gHoles">Hål</label>
                    <select id="gHoles" required>
                      <option value="9">9 hål</option>
                      <option value="18" selected>18 hål</option>
                    </select>
                  </div>
                  <div class="field">
                    <label class="field-label" for="gWeather">Väder</label>
                    <input id="gWeather" type="text" placeholder="t.ex. sol, 8°C, vind" />
                  </div>
                </div>

                <div class="row2">
                  <div class="field">
                    <label class="field-label" for="gStrokes">Antal slag</label>
                    <input id="gStrokes" type="number" min="1" step="1" placeholder="t.ex. 92" required />
                  </div>
                  <div class="field">
                    <label class="field-label" for="gPoints">Poäng</label>
                    <input id="gPoints" type="number" min="0" step="1" placeholder="t.ex. 32" />
                  </div>
                </div>

                <div class="stat-row">
                  <div class="field">
                    <label class="field-label" for="gDoubleBogey">Dubbelbogey</label>
                    <input id="gDoubleBogey" type="number" min="0" step="1" value="0" />
                  </div>
                  <div class="field">
                    <label class="field-label" for="gBogey">Bogey</label>
                    <input id="gBogey" type="number" min="0" step="1" value="0" />
                  </div>
                  <div class="field">
                    <label class="field-label" for="gPar">Par</label>
                    <input id="gPar" type="number" min="0" step="1" value="0" />
                  </div>
                  <div class="field">
                    <label class="field-label" for="gBirdie">Birdie</label>
                    <input id="gBirdie" type="number" min="0" step="1" value="0" />
                  </div>
                  <div class="field">
                    <label class="field-label" for="gEagle">Eagle</label>
                    <input id="gEagle" type="number" min="0" step="1" value="0" />
                  </div>
                  <div class="field">
                    <label class="field-label" for="gNotes">Notis</label>
                    <input id="gNotes" type="text" placeholder="t.ex. nya järn, bra puttning" />
                  </div>
                </div>

                <button class="btn-primary" type="submit" id="gSubmit">Spara runda</button>
                <div id="gMsg" class="msg" aria-live="polite"></div>
              </form>
            </div>
            <div class="panel-footer">Tips: Summan av DB+B+P+Bi+E bör matcha 9/18.</div>
          </section>

          <!-- Right: stats + list -->
          <div style="display:grid; gap:14px;">
            <section class="panel" style="margin:0;">
              <div class="panel-header">
                <div>
                  <div class="panel-title">📈 Statistik</div>
                  <div class="panel-subtitle">Slag (stark) + poäng (blekare) över tid, och fördelning av resultat.</div>
                </div>
              </div>
              <div class="panel-body">
                <div class="row2" style="align-items:end;">
                  <div class="field">
                    <label class="field-label" for="gFilterHoles">Filter</label>
                    <select id="gFilterHoles">
                      <option value="all" selected>Alla rundor</option>
                      <option value="18">Endast 18 hål</option>
                      <option value="9">Endast 9 hål</option>
                    </select>
                  </div>
                  <div class="hint-text" id="gStatHint">—</div>
                </div>
                <div style="position:relative; height:220px; margin-top:10px;"><canvas id="chartGolfTrend"></canvas></div>
                <div style="position:relative; height:220px; margin-top:14px;"><canvas id="chartGolfDist"></canvas></div>
              </div>
              <div class="panel-footer">Trend: slag (stark) + poäng (blekare).</div>
            </section>

            <section class="panel" style="margin:0;">
              <div class="panel-header">
                <div>
                  <div class="panel-title">📒 Rundor</div>
                  <div class="panel-subtitle">Senaste rundorna (redigera / radera).</div>
                </div>
              </div>
              <div class="panel-body">
                <div id="golfList" class="list-mini"></div>
              </div>
              <div class="panel-footer">Tabell: <code>golf_rounds</code> (Supabase)</div>
            </section>
          </div>
        </div>
      </div>
    </div>

  </div><!-- /main-content -->

</div><!-- /page-wrap -->

<script>
// Global shims for inline onclick handlers
window.deletePR = window.deletePR || (async (id)=>{ console.error('deletePR not wired'); alert('deletePR saknas (uppdatera app.html).'); });
window.editPR = window.editPR || (async (id)=>{ console.error('editPR not wired'); alert('editPR saknas (uppdatera app.html).'); });
window.deleteRace = window.deleteRace || (async (id)=>{ console.error('deleteRace not wired'); alert('deleteRace saknas (uppdatera app.html).'); });
window.editRace = window.editRace || (async (id)=>{ console.error('editRace not wired'); alert('editRace saknas (uppdatera app.html).'); });
window.deleteGolf = window.deleteGolf || (async (id)=>{ console.error('deleteGolf not wired'); alert('deleteGolf saknas (uppdatera app.html).'); });
window.editGolf = window.editGolf || (async (id)=>{ console.error('editGolf not wired'); alert('editGolf saknas (uppdatera app.html).'); });

window.deleteActivity = window.deleteActivity || (async (id)=>{ console.error('deleteActivity not wired'); alert('deleteActivity saknas (uppdatera app.html).'); });
window.editActivity = window.editActivity || (async (id)=>{ console.error('editActivity not wired'); alert('editActivity saknas (uppdatera app.html).'); });

(async () => {
const SUPABASE_URL      = "https://pmstnkmloyipsrveqidg.supabase.co";
const SUPABASE_ANON_KEY = "sb_publishable_Mb-z3MZvMP_KC09dMXE-AQ_AauF362I";
const sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

/* ── Supabase Auth Gate ──
   Den här sidan visar inget innan en giltig session finns.
   Om ingen session: redirect till index.html
*/
document.documentElement.classList.add("auth-pending");

async function requireSession(){
  const { data, error } = await sb.auth.getSession();
  if(error){
    console.error(error);
    location.href = "index.html?err=1";
    return;
  }
  const user = data?.session?.user;
  window.currentUser = user || null;
  if(!user){
    location.href = "index.html";
    return;
  }
  document.documentElement.classList.remove("auth-pending");
}

await requireSession();

const btnSignOut = document.getElementById("btnSignOut");
if(btnSignOut){
  btnSignOut.addEventListener("click", async ()=>{
    await sb.auth.signOut();
    location.href = "index.html?logout=1";
  });
}


const form              = document.getElementById("activity-form");
const msg               = document.getElementById("msg");
const reloadBtn         = document.getElementById("reloadBtn");
const yearSelect        = document.getElementById("yearSelect");
const countChip         = document.getElementById("countChip");
const lastChip          = document.getElementById("lastChip");
const pillYear          = document.getElementById("pillYear");
const subYear           = document.getElementById("subYear");
const statTotalSessions = document.getElementById("statTotalSessions");
const statTotalHours    = document.getElementById("statTotalHours");
const statRunKm         = document.getElementById("statRunKm");
const tabDash           = document.getElementById("tabDash");
const tabLogg           = document.getElementById("tabLogg");
const tabGolf           = document.getElementById("tabGolf");
const viewDash          = document.getElementById("viewDash");
const viewLogg          = document.getElementById("viewLogg");
const viewGolf          = document.getElementById("viewGolf");
const activitiesDiv     = document.getElementById("activities");

const monthLabels = ["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"];
function updateRunFields(){
  const sportVal = document.getElementById("sport")?.value || "";
  const isRun = sportVal === "Löpning";
  const tlField = document.getElementById("trainingLoadField");
  if(tlField) tlField.style.display = isRun ? "" : "none";
  if(!isRun){ const tl=document.getElementById("training_load"); if(tl) tl.value=""; }
}

const monthNamesFull = ["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];
let chartRun = null, chartStrength = null, chartRunLoad = null;

Chart.defaults.color = "rgba(123,132,184,0.9)";
Chart.defaults.font.family = "'Inter', system-ui, sans-serif";
Chart.defaults.font.size = 11;

/* ── Calendar ── */
const dateDisplay     = document.getElementById("dateDisplay");
const dateDisplayText = document.getElementById("dateDisplayText");
const calendarPopup   = document.getElementById("calendarPopup");
const calDaysEl       = document.getElementById("calDays");
const calMonthLabel   = document.getElementById("calMonthLabel");
const calPrev         = document.getElementById("calPrev");
const calNext         = document.getElementById("calNext");
const calHour         = document.getElementById("calHour");
const calMinute       = document.getElementById("calMinute");
const calConfirm      = document.getElementById("calConfirm");
const hiddenStart     = document.getElementById("start_time");

let calView     = new Date();
let calSelected = new Date();

function renderCalendar() {
  const y = calView.getFullYear(), m = calView.getMonth();
  calMonthLabel.textContent = `${monthNamesFull[m]} ${y}`;
  calDaysEl.innerHTML = "";
  const today    = new Date();
  const firstDay = new Date(y, m, 1);
  let offset = firstDay.getDay() - 1;
  if (offset < 0) offset = 6;

  const prevLast = new Date(y, m, 0).getDate();
  for (let i = offset - 1; i >= 0; i--) {
    calDaysEl.appendChild(mkDay(new Date(y, m-1, prevLast-i), "other-month"));
  }

  const dim = new Date(y, m+1, 0).getDate();
  for (let d = 1; d <= dim; d++) {
    const date = new Date(y, m, d);
    const cls = [];
    if (date.toDateString() === today.toDateString()) cls.push("today");
    if (calSelected && date.toDateString() === calSelected.toDateString()) cls.push("selected");
    calDaysEl.appendChild(mkDay(date, cls.join(" ")));
  }

  const total = Math.ceil((offset + dim) / 7) * 7;
  for (let d = 1; d <= total - offset - dim; d++) {
    calDaysEl.appendChild(mkDay(new Date(y, m+1, d), "other-month"));
  }
}

function mkDay(date, cls) {
  const btn = document.createElement("button");
  btn.type = "button";
  btn.className = `cal-day ${cls}`.trim();
  btn.textContent = date.getDate();
  btn.addEventListener("click", () => {
    calSelected = date;
    // Apply immediately (no confirm needed)
    const iso = `${date.getFullYear()}-${String(date.getMonth()+1).padStart(2,"0")}-${String(date.getDate()).padStart(2,"0")}`;
    hiddenStart.value = `${iso}T12:00:00`;
    dateDisplayText.textContent = date.toLocaleDateString("sv-SE");
    dateDisplayText.classList.remove("placeholder");
    calendarPopup.classList.remove("open");
    dateDisplay.classList.remove("open");
    renderCalendar();
  });
  return btn;
}

calPrev.addEventListener("click", () => { calView = new Date(calView.getFullYear(), calView.getMonth()-1, 1); renderCalendar(); });
calNext.addEventListener("click", () => { calView = new Date(calView.getFullYear(), calView.getMonth()+1, 1); renderCalendar(); });

// Sport dependent fields
const sportSel = document.getElementById("sport");
if(sportSel){ sportSel.addEventListener("change", updateRunFields); }
setTimeout(updateRunFields, 0);


dateDisplay.addEventListener("click", (e) => {
  e.stopPropagation();
  const open = calendarPopup.classList.toggle("open");
  dateDisplay.classList.toggle("open", open);
  if (open) renderCalendar();
});

calConfirm.addEventListener("click", () => {
  if (!calSelected) return;
  const iso = `${calSelected.getFullYear()}-${String(calSelected.getMonth()+1).padStart(2,"0")}-${String(calSelected.getDate()).padStart(2,"0")}`;
  hiddenStart.value = `${iso}T12:00:00`;
  dateDisplayText.textContent = calSelected.toLocaleDateString("sv-SE");
  dateDisplayText.classList.remove("placeholder");
  calendarPopup.classList.remove("open");
  dateDisplay.classList.remove("open");
});

document.addEventListener("click", (e) => {
  if (!calendarPopup.contains(e.target) && e.target !== dateDisplay && !dateDisplay.contains(e.target)) {
    calendarPopup.classList.remove("open");
    dateDisplay.classList.remove("open");
  }
});

// Init default time to now
calHour.value   = new Date().getHours();
calMinute.value = String(new Date().getMinutes()).padStart(2, "0");

/* ── Helpers ── */
function setMessage(t, err=false){ msg.textContent=t||""; msg.style.color=err?"var(--bad)":"var(--good)"; }

function updateSportUI(){
  const sportEl = document.getElementById("sport");
  const distField = document.getElementById("distanceField");
  const distInput = document.getElementById("distance_km");
  const tlInput = document.getElementById("training_load");
  const paceHint  = document.getElementById("paceHint");
  const loadField = document.getElementById("loadFieldRow");
  const loadInput = document.getElementById("training_load");
  if(!sportEl || !distField || !distInput) return;
  const isRun = sportEl.value === "Löpning";
  distField.style.display = isRun ? "" : "none";
  distInput.disabled = !isRun;
  if(!isRun) distInput.value = "";
  
    if(tlInput) tlInput.value = (a.training_load!=null ? String(a.training_load) : "");
if(paceHint) paceHint.style.display = isRun ? "" : "none";
  if(loadField) loadField.style.display = isRun ? "" : "none";
  if(loadInput){ loadInput.disabled = !isRun; if(!isRun) loadInput.value = ""; }
}
document.getElementById("sport")?.addEventListener("change", updateSportUI);

// Show JS errors in-app (so you don't have to open DevTools)
(function(){
  const show = (msg)=>{
    const b=document.getElementById("errBanner");
    if(!b) return;
    b.style.display="block";
    b.textContent = "JS-fel: " + msg;
  };
  window.addEventListener("error", (e)=>{
    show(e?.message || "Okänt fel");
  });
  window.addEventListener("unhandledrejection", (e)=>{
    show(e?.reason?.message || String(e?.reason || "Okänd promise-rejection"));
  });
})();

function safeText(v){ const s=document.createElement("span"); s.textContent=(v??'').toString(); return s.innerHTML; }
function formatDistance(m){ if(!m||m<=0)return null; const k=m/1000; return `${k.toFixed(k<10?2:1)} km`; }
function formatDuration(s){ if(!s||s<=0)return null; const h=Math.floor(s/3600),m=Math.floor((s%3600)/60); return h>0?`${h}h ${m}m`:`${m}m`; }
function calcPace(dur,dist){ if(!dur||!dist||dist<=0)return null; const s=dur/(dist/1000); if(!isFinite(s))return null; return `${Math.floor(s/60)}:${Math.round(s%60).toString().padStart(2,"0")} min/km`; }
function toHours(s){ return(!s||s<=0)?0:s/3600; }
function yearsFromActivities(list){ const ys=new Set(); for(const a of list){ const d=new Date(a.start_time); if(!isNaN(d.getTime()))ys.add(d.getFullYear()); } return Array.from(ys).sort((a,b)=>b-a); }
/* ── PR & Race helpers ── */
const prForm = document.getElementById("prForm");
const prList = document.getElementById("prList");
const prMsg  = document.getElementById("prMsg");
const prSubmitBtn = document.getElementById("prSubmitBtn");

const raceForm = document.getElementById("raceForm");
const raceList = document.getElementById("raceList");

const raceYearFilter = document.getElementById("raceYearFilter");
const btnClearRaceFilter = document.getElementById("btnClearRaceFilter");

const logYearFilter = document.getElementById("logYearFilter");
const logMonthFilter = document.getElementById("logMonthFilter");
const btnClearLogFilters = document.getElementById("btnClearLogFilters");

let __allActivitiesCache = [];
let __allRacesCache = [];

function yearFromISO(iso){
  if(!iso) return null;
  const s = String(iso);
  return Number(s.slice(0,4));
}
function monthFromISO(iso){
  if(!iso) return null;
  const s = String(iso);
  return Number(s.slice(5,7));
}

function populateYearSelect(selectEl, years){
  if(!selectEl) return;
  const current = selectEl.value || "all";
  const uniq = Array.from(new Set(years.filter(Boolean))).sort((a,b)=>b-a);
  selectEl.innerHTML = ['<option value="all">Alla år</option>'].concat(uniq.map(y=>`<option value="${y}">${y}</option>`)).join("");
  // restore if still exists
  if(uniq.includes(Number(current))) selectEl.value = current;
  else selectEl.value = "all";
}

function applyLogFilters(list){
  const y = logYearFilter?.value || "all";
  const m = logMonthFilter?.value || "all";
  return (list||[]).filter(a=>{
    const yy = yearFromISO(a.start_time);
    const mm = monthFromISO(a.start_time);
    if(y!=="all" && yy!==Number(y)) return false;
    if(m!=="all" && mm!==Number(m)) return false;
    return true;
  });
}

function applyRaceFilters(list){
  const y = raceYearFilter?.value || "all";
  return (list||[]).filter(r=>{
    const yy = yearFromISO(r.date || r.created_at);
    if(y!=="all" && yy!==Number(y)) return false;
    return true;
  });
}

function rememberFilters(){
  try{
    if(logYearFilter) localStorage.setItem("tf_log_year", logYearFilter.value);
    if(logMonthFilter) localStorage.setItem("tf_log_month", logMonthFilter.value);
    if(raceYearFilter) localStorage.setItem("tf_race_year", raceYearFilter.value);
  }catch(_e){}
}
function restoreFilters(){
  try{
    const ly = localStorage.getItem("tf_log_year");
    const lm = localStorage.getItem("tf_log_month");
    const ry = localStorage.getItem("tf_race_year");
    if(logMonthFilter && lm && Array.from(logMonthFilter.options).some(o=>o.value===lm)) logMonthFilter.value = lm;
    if(raceYearFilter && ry) raceYearFilter.value = ry; // year options will be validated after populate
    if(logYearFilter && ly) logYearFilter.value = ly;   // validated after populate
  }catch(_e){}
}
function clearFilters(){
  try{
    localStorage.removeItem("tf_log_year");
    localStorage.removeItem("tf_log_month");
    localStorage.removeItem("tf_race_year");
  }catch(_e){}
}

const raceMsg  = document.getElementById("raceMsg");
const raceSubmitBtn = document.getElementById("raceSubmitBtn");

let prTrendChart = null;
const lockPill = document.getElementById("lockPill");
const prTrendSelect = document.getElementById("prTrendSelect");
const chartPRTrendCanvas = document.getElementById("chartPRTrend");

/* ── Simple edit lock (UI-level) ──
   NOTE: This is NOT real security. For real security, use Supabase Auth + per-user RLS.
*/
const EDIT_PIN = "1234"; // Ändra till din egen kod
let editUnlocked = false;

function applyEditLock(){
  const prCard = lockPill ? lockPill.closest(".records-card") : null;
  const raceCard = document.getElementById("raceForm") ? document.getElementById("raceForm").closest(".records-card") : null;
  const locked = !editUnlocked;
  if(prCard) prCard.classList.toggle("locked", locked);
  if(raceCard) raceCard.classList.toggle("locked", locked);
  if(lockPill){
    lockPill.textContent = locked ? "🔒 Låst" : "🔓 Upplåst";
    lockPill.title = locked ? "Klicka för att låsa upp redigering" : "Klicka för att låsa";
    lockPill.classList.toggle("chip-accent", !locked);
  }
  // Disable submit buttons when locked (still allow typing)
  if(prSubmitBtn) prSubmitBtn.disabled = locked;
  if(raceSubmitBtn) raceSubmitBtn.disabled = locked;
}

if(lockPill){
  lockPill.addEventListener("click", ()=>{
    if(editUnlocked){
      editUnlocked = false;
      applyEditLock();
      setMiniMessage(prMsg, "Låst 🔒");
      setMiniMessage(raceMsg, "Låst 🔒");
      return;
    }
    const pin = prompt("Ange PIN för att låsa upp redigering:");
    if(pin === EDIT_PIN){
      editUnlocked = true;
      applyEditLock();
      setMiniMessage(prMsg, "Upplåst ✓");
      setMiniMessage(raceMsg, "Upplåst ✓");
    }else if(pin != null){
      setMiniMessage(prMsg, "Fel PIN.", true);
    }
  });
}

function distIcon(type){
  const t = (type||"").toLowerCase();
  if(t.includes("5")) return "5K";
  if(t.includes("10")) return "10K";
  if(t.includes("halv")) return "HM";
  if(t.includes("mara")) return "M";
  if(t.includes("ultra")) return "ULTRA";
  return "PR";
}

function bestByType(prs){
  const map = new Map();
  for(const r of prs){
    const key = r.type || "";
    if(!map.has(key) || (r.time_s != null && r.time_s < map.get(key).time_s)){
      map.set(key, r);
    }
  }
  return map;
}

function buildPRTrend(prs, type){
  const filtered = prs.filter(r => (r.type||"") === type && r.time_s != null);
  // Prefer date ordering; fallback to created_at
  filtered.sort((a,b)=>{
    const da = a.date ? new Date(a.date) : new Date(a.created_at || 0);
    const db = b.date ? new Date(b.date) : new Date(b.created_at || 0);
    return da - db;
  });
  const labels = filtered.map(r => r.date ? r.date : (r.created_at ? new Date(r.created_at).toISOString().slice(0,10) : ""));
  const data = filtered.map(r => Math.round(r.time_s/1)/1);
  return { labels, data };
}

function renderPRTrend(prs){
  if(!chartPRTrendCanvas || !window.Chart) return;
  const type = prTrendSelect ? prTrendSelect.value : "5 km";
  const t = buildPRTrend(prs, type);
  if(prTrendChart) prTrendChart.destroy();

  // If not enough points, show empty-ish chart
  prTrendChart = new Chart(chartPRTrendCanvas,{
    type:"line",
    data:{
      labels: t.labels.length ? t.labels : ["—"],
      datasets:[{
        label:`Tid (${type})`,
        data: t.data.length ? t.data : [null],
        borderColor:"rgba(167,139,250,0.85)",
        backgroundColor:"rgba(167,139,250,0.10)",
        pointBackgroundColor:"rgba(167,139,250,0.90)",
        pointBorderColor:"rgba(13,15,28,1)",
        pointBorderWidth:2,
        pointRadius:3,
        tension:0.35,
        fill:true
      }]
    },
    options:{
      responsive:true, maintainAspectRatio:false,
      plugins:{
        legend:{ display:false },
        tooltip:{
          backgroundColor:"rgba(7,8,15,0.96)",
          borderColor:"rgba(167,139,250,0.20)",
          borderWidth:1,
          titleColor:"rgba(232,234,248,0.95)",
          bodyColor:"rgba(123,132,184,0.9)",
          padding:12,
          cornerRadius:12,
          callbacks:{
            label:(ctx)=>` ${formatHms(ctx.parsed.y)}`
          }
        }
      },
      scales:{
        x:{ grid:{color:"rgba(99,102,241,0.06)"}, border:{display:false},
            ticks:{color:"rgba(123,132,184,0.65)", maxTicksLimit:6} },
        y:{ grid:{color:"rgba(99,102,241,0.07)"}, border:{display:false},
            ticks:{color:"rgba(123,132,184,0.65)", callback:(v)=>formatHms(v)} }
      }
    }
  });
}

if(prTrendSelect){
  prTrendSelect.addEventListener("change", async ()=>{
    try{
      const prs = await fetchPRs();
      renderPRTrend(prs);
    }catch(e){}
  });
}


function setMiniMessage(el, t, err=false){
  if(!el) return;
  el.textContent = t || "";
  el.style.color = err ? "var(--bad)" : "var(--good)";
}

function parseHmsToSeconds(str){
  if(!str) return null;
  const s = String(str).trim();
  // Accept mm:ss or hh:mm:ss
  const parts = s.split(":").map(p=>p.trim()).filter(Boolean);
  if(parts.length<2 || parts.length>3) return null;
  const nums = parts.map(p=>Number(p));
  if(nums.some(n=>!isFinite(n) || n<0)) return null;
  let h=0,m=0,sec=0;
  if(parts.length===2){ m=nums[0]; sec=nums[1]; }
  else { h=nums[0]; m=nums[1]; sec=nums[2]; }
  if(m>59 || sec>59) return null;
  return Math.floor(h)*3600 + Math.floor(m)*60 + Math.floor(sec);
}

function formatHms(seconds){
  if(seconds==null || !isFinite(seconds) || seconds<0) return "—";
  const s=Math.floor(seconds);
  const h=Math.floor(s/3600);
  const m=Math.floor((s%3600)/60);
  const sec=s%60;
  const pad=n=>String(n).padStart(2,"0");
  return h>0 ? `${pad(h)}:${pad(m)}:${pad(sec)}` : `${pad(m)}:${pad(sec)}`;
}

/* ── Supabase: PR ──
   Table suggestion:
   personal_records: id (uuid), type (text), time_s (int), date (date), event (text), notes (text), created_at (timestamptz default now())
*/
async function fetchPRs(){
  if(!window.currentUser) return [];
  const { data, error } = await sb.from("personal_records")
    .select("id,type,time_s,date,event,notes,created_at")
    .eq("user_id", window.currentUser.id)
    .order("time_s",{ascending:true})
    .limit(50);
  if(error) throw error;
  return data || [];
}

function renderPRs(list){
  if(!prList) return;
  if(!list.length){
    prList.innerHTML = `
      <div class="empty-state" style="margin:0; padding:18px 14px;">
        <div class="empty-state-icon">✨</div>
        <div class="empty-state-title">Inga PR ännu</div>
        <div class="empty-state-sub">Lägg in din bästa tid så dyker den upp här.</div>
      </div>`;
    return;
  }
  prList.innerHTML = "";
  const bestMap = (typeof bestByType === "function") ? bestByType(list) : new Map();
  for(const r of list){
    const metaParts = [];
    if(r.date) metaParts.push(`<span class="pill soft">📅 ${safeText(r.date)}</span>`);
    if(r.event) metaParts.push(`<span class="pill soft">🏁 ${safeText(r.event)}</span>`);
    const notes = r.notes ? `<div class="note-mini">${safeText(r.notes)}</div>` : "";
    const el = document.createElement("div");
    const isBest = bestMap.get(r.type || "")?.id === r.id;
    el.className = "mini-item" + (isBest ? " best" : "");
    el.innerHTML = `
      <div class="mini-main">
        <div class="mini-top">
          <div class="mini-name">🏃 <span class="pill" style="padding:3px 9px;">${safeText(distIcon(r.type))}</span> ${safeText(r.type || "")} ${isBest ? '<span class="badge-best">🏆 Bästa</span>' : ''}</div>
          <div class="mini-time">${formatHms(r.time_s)}</div>
        </div>
        <div class="mini-meta">${metaParts.join("")}</div>
        ${notes}
      </div>
      <div class="mini-actions">
        <button class="btn-ghost" type="button" onclick="editPR('${r.id}')">✏️</button>
        <button class="btn-ghost danger" type="button" onclick="deletePR('${r.id}')">🗑</button>
      </div>`;
    prList.appendChild(el);
  }
}

async function upsertPR(payload, id=null){
  if(id){
    const { error } = await sb.from("personal_records").update(payload).eq("id", id).eq("user_id", window.currentUser.id);
    if(error) throw error;
  } else {
    const { error } = await sb.from("personal_records").insert({ ...payload, user_id: window.currentUser.id });
    if(error) throw error;
  }
}

window.deletePR = async function(id){
  if(!editUnlocked){ setMiniMessage(prMsg, "Låst 🔒 (klicka låset för att låsa upp)", true); return; }
  if(!confirm("Radera PR?")) return;
  try{
    const { error } = await sb.from("personal_records").delete().eq("id", id).eq("user_id", window.currentUser.id);
    if(error) throw error;
    setMiniMessage(prMsg, "PR raderat ✓");
    await loadPRs();
  }catch(e){ setMiniMessage(prMsg, e?.message||"Kunde inte radera", true); }
}

window.editPR = async function(id){
  if(!editUnlocked){ setMiniMessage(prMsg, "Låst 🔒 (klicka låset för att låsa upp)", true); return; }
  try{
    const { data, error } = await sb.from("personal_records")
      .select("id,type,time_s,date,event,notes").eq("id", id).eq("user_id", window.currentUser.id).single();
    if(error) throw error;
    prForm.dataset.editId = data.id;
    document.getElementById("prType").value = data.type || "5 km";
    document.getElementById("prTime").value = formatHms(data.time_s);
    document.getElementById("prDate").value = data.date || "";
    document.getElementById("prEvent").value = data.event || "";
    document.getElementById("prNotes").value = data.notes || "";
    prSubmitBtn.textContent = "Uppdatera PR";
    setMiniMessage(prMsg, "Redigerar PR…");
  }catch(e){ setMiniMessage(prMsg, e?.message||"Kunde inte hämta", true); }
}

async function loadPRs(){
  try{
    const prs = await fetchPRs();
    renderPRs(prs);
    if(prTrendSelect) prTrendSelect.value = prTrendSelect.value || "5 km";
    renderPRTrend(prs);
  }catch(e){
    // Graceful error message + hint about table
    if(prList){
      prList.innerHTML = `
        <div class="empty-state" style="margin:0; padding:18px 14px;">
          <div class="empty-state-icon">⚠️</div>
          <div class="empty-state-title">PR saknar tabell</div>
          <div class="empty-state-sub">${safeText(e?.message||"Skapa tabellen 'personal_records' i Supabase för att spara PR.")}</div>
        </div>`;
    }
  }
}

if(prForm){
  prForm.addEventListener("submit", async (e)=>{
    if(!editUnlocked){ setMiniMessage(prMsg, "Låst 🔒 (klicka låset för att låsa upp)", true); return; }
    e.preventDefault();
    setMiniMessage(prMsg,"");
    const type = document.getElementById("prType").value;
    const time_s = parseHmsToSeconds(document.getElementById("prTime").value);
    if(time_s==null){ setMiniMessage(prMsg,"Ange tid som mm:ss eller hh:mm:ss.", true); return; }
    const date = document.getElementById("prDate").value || null;
    const event = document.getElementById("prEvent").value.trim() || null;
    const notes = document.getElementById("prNotes").value.trim() || null;

    const payload = { type, time_s, date, event, notes };
    const editId = prForm.dataset.editId || null;

    try{
      await upsertPR(payload, editId);
      prForm.reset();
      delete prForm.dataset.editId;
      prSubmitBtn.textContent = "Spara PR";
      setMiniMessage(prMsg, editId ? "PR uppdaterat ✓" : "PR sparat ✓");
      await loadPRs();
    }catch(err){
      setMiniMessage(prMsg, err?.message||"Kunde inte spara", true);
    }
  });
}

/* ── Supabase: Race results ──
   Table suggestion:
   race_results: id (uuid), name (text), distance (text), time_s (int), date (date), location (text), notes (text), created_at (timestamptz default now())
*/
async function fetchRaces(){
  if(!window.currentUser) return [];
  const { data, error } = await sb.from("race_results")
    .select("id,name,distance,time_s,date,location,notes,created_at")
    .eq("user_id", window.currentUser.id)
    .order("date",{ascending:false})
    .limit(60);
  if(error) throw error;
  return data || [];
}

function renderRaces(list){
  if(!raceList) return;
  if(!list.length){
    raceList.innerHTML = `
      <div class="empty-state" style="margin:0; padding:18px 14px;">
        <div class="empty-state-icon">🗓️</div>
        <div class="empty-state-title">Inga tävlingar ännu</div>
        <div class="empty-state-sub">När du lägger till ett resultat visas det här.</div>
      </div>`;
    return;
  }
  raceList.innerHTML = "";
  for(const r of list){
    const metaParts = [];
    if(r.date) metaParts.push(`<span class="pill soft">📅 ${safeText(r.date)}</span>`);
    if(r.location) metaParts.push(`<span class="pill soft">📍 ${safeText(r.location)}</span>`);
    metaParts.push(`<span class="pill">📏 ${safeText(r.distance||"")}</span>`);

    const notes = r.notes ? `<div class="note-mini">${safeText(r.notes)}</div>` : "";

    const el = document.createElement("div");
    el.className="mini-item";
    el.innerHTML = `
      <div class="mini-main">
        <div class="mini-top">
          <div class="mini-name">${safeText(r.name||"")}</div>
          <div class="mini-time">${formatHms(r.time_s)}</div>
        </div>
        <div class="mini-meta">${metaParts.join("")}</div>
        ${notes}
      </div>
      <div class="mini-actions">
        <button class="btn-ghost" type="button" onclick="editRace('${r.id}')">✏️</button>
        <button class="btn-ghost danger" type="button" onclick="deleteRace('${r.id}')">🗑</button>
      </div>`;
    raceList.appendChild(el);
  }
}

async function upsertRace(payload, id=null){
  if(id){
    const { error } = await sb.from("race_results").update(payload).eq("id", id).eq("user_id", window.currentUser.id);
    if(error) throw error;
  } else {
    const { error } = await sb.from("race_results").insert({ ...payload, user_id: window.currentUser.id });
    if(error) throw error;
  }
}

window.deleteRace = async function(id){
  if(!editUnlocked){ setMiniMessage(raceMsg, "Låst 🔒 (klicka låset för att låsa upp)", true); return; }
  if(!confirm("Radera resultat?")) return;
  try{
    const { error } = await sb.from("race_results").delete().eq("id", id).eq("user_id", window.currentUser.id);
    if(error) throw error;
    setMiniMessage(raceMsg, "Resultat raderat ✓");
    await loadRaces();
  }catch(e){ setMiniMessage(raceMsg, e?.message||"Kunde inte radera", true); }
}

window.editRace = async function(id){
  if(!editUnlocked){ setMiniMessage(raceMsg, "Låst 🔒 (klicka låset för att låsa upp)", true); return; }
  try{
    const { data, error } = await sb.from("race_results")
      .select("id,name,distance,time_s,date,location,notes").eq("id", id).eq("user_id", window.currentUser.id).single();
    if(error) throw error;
    raceForm.dataset.editId = data.id;
    document.getElementById("raceName").value = data.name || "";
    document.getElementById("raceDistance").value = data.distance || "";
    document.getElementById("raceTime").value = formatHms(data.time_s);
    document.getElementById("raceDate").value = data.date || "";
    document.getElementById("raceLocation").value = data.location || "";
    document.getElementById("raceNotes").value = data.notes || "";
    raceSubmitBtn.textContent = "Uppdatera resultat";
    setMiniMessage(raceMsg, "Redigerar resultat…");
  }catch(e){ setMiniMessage(raceMsg, e?.message||"Kunde inte hämta", true); }
}

async function loadRaces(){
  try{
    const races = await fetchRaces();
    __allRacesCache = races;
    try{ populateYearSelect(raceYearFilter, races.map(r=>yearFromISO(r.date||r.created_at)).filter(Boolean));
      const ry = localStorage.getItem('tf_race_year');
      if(raceYearFilter && ry && Array.from(raceYearFilter.options).some(o=>o.value===ry)) raceYearFilter.value = ry;
    }catch(_e){}
    renderRaces(applyRaceFilters(races));
  }catch(e){
    if(raceList){
      raceList.innerHTML = `
        <div class="empty-state" style="margin:0; padding:18px 14px;">
          <div class="empty-state-icon">⚠️</div>
          <div class="empty-state-title">Tävlingar kan inte laddas</div>
          <div class="empty-state-sub">${safeText(e?.message||"Skapa tabellen 'race_results' i Supabase för att spara tävlingar.")}</div>
        </div>`;
    }
  }
}

if(raceForm){
  raceForm.addEventListener("submit", async (e)=>{
    if(!editUnlocked){ setMiniMessage(raceMsg, "Låst 🔒 (klicka låset för att låsa upp)", true); return; }
    e.preventDefault();
    setMiniMessage(raceMsg,"");
    const name = document.getElementById("raceName").value.trim();
    const distance = document.getElementById("raceDistance").value.trim();
    const time_s = parseHmsToSeconds(document.getElementById("raceTime").value);
    if(!name || !distance){ setMiniMessage(raceMsg,"Ange namn och distans.", true); return; }
    if(time_s==null){ setMiniMessage(raceMsg,"Ange tid som mm:ss eller hh:mm:ss.", true); return; }

    const date = document.getElementById("raceDate").value || null;
    const location = document.getElementById("raceLocation").value.trim() || null;
    const notes = document.getElementById("raceNotes").value.trim() || null;

    const payload = { name, distance, time_s, date, location, notes };
    const editId = raceForm.dataset.editId || null;

    try{
      await upsertRace(payload, editId);
      raceForm.reset();
      delete raceForm.dataset.editId;
      raceSubmitBtn.textContent = "Spara resultat";
      setMiniMessage(raceMsg, editId ? "Resultat uppdaterat ✓" : "Resultat sparat ✓");
      await loadRaces();
    }catch(err){
      setMiniMessage(raceMsg, err?.message||"Kunde inte spara", true);
    }
  });
}




function ensureYearOptions(all){
  const ys=yearsFromActivities(all), cur=new Date().getFullYear();
  if(!ys.includes(cur))ys.unshift(cur);
  const sel=yearSelect.value; yearSelect.innerHTML="";
  for(const y of ys){ const o=document.createElement("option"); o.value=String(y); o.textContent=String(y); yearSelect.appendChild(o); }
  yearSelect.value=(sel&&ys.includes(Number(sel)))?sel:String(cur);
  pillYear.textContent=`År: ${yearSelect.value}`;
  subYear.textContent=`Valt år: ${yearSelect.value}`;
}
function setSummary(list){
  countChip.textContent=`${list.length} pass`;
  if(list.length){ const l=new Date(list[0].start_time); lastChip.textContent=`Senast: ${l.toLocaleDateString()} ${l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`; }
  else lastChip.textContent="Senast: —";
}
function buildYearBuckets(list,year){
  const init=()=>({counts:Array(12).fill(0),hours:Array(12).fill(0),runKm:Array(12).fill(0)});
  const out={"Löpning":init(),"Styrketräning":init()};
  for(const a of list){
    const d=new Date(a.start_time); if(isNaN(d.getTime())||d.getFullYear()!==year)continue;
    const mo=d.getMonth(), sp=a.sport||"Okänt"; if(!out[sp])continue;
    out[sp].counts[mo]+=1; out[sp].hours[mo]+=toHours(a.duration_s);
    if(sp==="Löpning"&&a.distance_m) out[sp].runKm[mo]+=(a.distance_m/10000); // mil
  }
  return out;
}



// ── Training Load / week (running) ──
function isoWeekKey(d){
  // returns {year, week} using ISO week date
  const date = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate()));
  const dayNum = date.getUTCDay() || 7;
  date.setUTCDate(date.getUTCDate() + 4 - dayNum);
  const yearStart = new Date(Date.UTC(date.getUTCFullYear(),0,1));
  const weekNo = Math.ceil((((date - yearStart) / 86400000) + 1) / 7);
  return { year: date.getUTCFullYear(), week: weekNo };
}

function buildWeeklyLoad(all, year){
  const sums = new Map(); // week -> sum
  for(const a of all){
    if((a.sport||"")!=="Löpning") continue;
    if(a.training_load==null) continue;
    const d = new Date(a.start_time);
    if(d.getFullYear()!==year) continue;
    const wk = isoWeekKey(d).week;
    sums.set(wk, (sums.get(wk)||0) + Number(a.training_load));
  }
  const weeks = Array.from(sums.keys()).sort((a,b)=>a-b);
  const labels = weeks.length ? weeks.map(w=>`V${w}`) : ["—"];
  const data = weeks.length ? weeks.map(w=>Math.round(sums.get(w))) : [0];
  return {labels, data};
}

function makeWeeklyLoadChart(canvasId, wl, prev){
  const ctx=document.getElementById(canvasId);
  if(!ctx) return prev;
  if(prev) prev.destroy();
  const mx=Math.max(...wl.data,1);
  return new Chart(ctx,{
    type:"bar",
    data:{ labels: wl.labels, datasets:[{
      label:"Training Load",
      data: wl.data,
      backgroundColor: wl.data.map(v=>`rgba(167,139,250,${0.25+0.75*(v/mx)})`),
      borderColor:"transparent",
      borderWidth:0,
      borderRadius:7,
      borderSkipped:false
    }]},
    options:{
      responsive:true, maintainAspectRatio:false,
      plugins:{ legend:{display:false}, tooltip:{ callbacks:{ label:(c)=>`TL ${c.parsed.y}` } } },
      scales:{
        x:{ grid:{display:false}, ticks:{ maxRotation:0, autoSkip:true } },
        y:{ grid:{ color:"rgba(255,255,255,0.08)" }, ticks:{ callback:(v)=>v } }
      }
    }
  });
}

function makeHoursBarChart(canvasId, hours, pal, prev){
  const ctx=document.getElementById(canvasId);
  if(prev) prev.destroy();
  const mx=Math.max(...hours,1);
  return new Chart(ctx,{
    type:"bar",
    data:{
      labels:monthLabels,
      datasets:[{
        label:"Tid (h)",
        data:hours.map(v=>Math.round(v*10)/10),
        backgroundColor:hours.map(v=>pal.bar(0.25+0.75*(v/mx))),
        borderColor:"transparent",
        borderWidth:0,
        borderRadius:7,
        borderSkipped:false
      }]
    },
    options:{
      responsive:true, maintainAspectRatio:false,
      interaction:{mode:"index", intersect:false},
      plugins:{
        legend:{ labels:{ color:"rgba(123,132,184,0.9)", font:{size:11,weight:'600'}, usePointStyle:true, pointStyle:'circle', boxWidth:8, boxHeight:8, padding:16 } },
        tooltip:{ backgroundColor:"rgba(7,8,15,0.96)", borderColor:"rgba(99,102,241,0.18)", borderWidth:1, titleColor:"rgba(232,234,248,0.95)", bodyColor:"rgba(123,132,184,0.9)", padding:13, cornerRadius:12, displayColors:true, boxWidth:8, boxHeight:8 }
      },
      scales:{
        x:{ grid:{color:"rgba(99,102,241,0.06)", drawTicks:false}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)", font:{size:11,weight:'600'}, padding:6} },
        y:{ beginAtZero:true, grid:{color:"rgba(99,102,241,0.07)", drawTicks:false}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)", font:{size:10}, padding:8, maxTicksLimit:5} }
      }
    }
  });
}

function makeChart(canvasId, counts, hours, pal, prev){
  const ctx=document.getElementById(canvasId);
  if(prev) prev.destroy();
  const mx=Math.max(...counts,1);
  return new Chart(ctx,{
    type:"bar",
    data:{ labels:monthLabels, datasets:[
      { label:"Sträcka (mil)", data:counts.map(v=>Math.round(v*10)/10), yAxisID:"yCount",
        backgroundColor:"rgba(255,159,64,0.92)",
        borderColor:"rgba(255,159,64,0.95)", borderWidth:1, borderRadius:7, borderSkipped:false, order:2 },
      { label:"Tid (h)", data:hours.map(v=>Math.round(v*10)/10), yAxisID:"yHours", type:"line",
        borderColor:"rgba(0,255,200,0.45)", borderWidth:2, backgroundColor:"rgba(0,255,200,0.06)",
        pointBackgroundColor:"rgba(0,255,200,0.55)", pointBorderColor:"rgba(13,15,28,1)", pointBorderWidth:2.5,
        pointRadius:3, pointHoverRadius:5, tension:0.4, fill:true, order:1 }
    ]},
    options:{
      responsive:true, maintainAspectRatio:false,
      interaction:{mode:"index", intersect:false},
      plugins:{
        legend:{ labels:{ color:"rgba(123,132,184,0.9)", font:{size:11,weight:'600'}, usePointStyle:true, pointStyle:'circle', boxWidth:8, boxHeight:8, padding:16 } },
        tooltip:{ backgroundColor:"rgba(7,8,15,0.96)", borderColor:"rgba(99,102,241,0.18)", borderWidth:1, titleColor:"rgba(232,234,248,0.95)", bodyColor:"rgba(123,132,184,0.9)", padding:13, cornerRadius:12, displayColors:true, boxWidth:8, boxHeight:8 }
      },
      scales:{
        x:{ grid:{color:"rgba(99,102,241,0.06)", drawTicks:false}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)", font:{size:11,weight:'600'}, padding:6} },
        yCount:{ position:"left", beginAtZero:true, grid:{color:"rgba(99,102,241,0.07)", drawTicks:false}, border:{display:false}, ticks:{precision:0, color:"rgba(123,132,184,0.65)", font:{size:10}, padding:8, maxTicksLimit:5} },
        yHours:{ position:"right", beginAtZero:true, grid:{drawOnChartArea:false, drawTicks:false}, border:{display:false}, ticks:{color:"rgba(0,255,200,0.35)", font:{size:10}, padding:8, maxTicksLimit:5} }
      }
    }
  });
}

async function fetchAllActivities(){
  const{data,error}=await sb.from("activities").select("id,start_time,sport,name,duration_s,distance_m,training_load,notes,source").order("start_time",{ascending:false}).limit(5000);
  if(error)throw error; return data||[];
}

function renderLatestList(list){
  const latest=list.slice(0,60);

  if(!latest.length){
    activitiesDiv.className="";
    activitiesDiv.innerHTML=`
      <div class="empty-state">
        <div class="empty-state-icon">🏋️</div>
        <div class="empty-state-title">Inga pass ännu</div>
        <div class="empty-state-sub">Lägg till ditt första pass via formuläret ovan.</div>
      </div>`;
    return;
  }

  activitiesDiv.className="activities-list";
  activitiesDiv.innerHTML="";

  for(const a of latest){
    const div=document.createElement("div");
    div.className="activity-item";

    const when=new Date(a.start_time);
    const wt=`${when.toLocaleDateString()} ${when.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;

    const dist=formatDistance(a.distance_m);
    const dur=formatDuration(a.duration_s);
    const pace=calcPace(a.duration_s,a.distance_m);
    const spt=(a.sport||"");
    const isRun=(spt==="Löpning"||spt==="running"||spt.toLowerCase()==="löpning"||spt.toLowerCase()==="run");

    div.innerHTML=`
      <div class="activity-icon ${isRun?'run':'strength'}">
        ${isRun?'🏃':'💪'}
      </div>

      <div class="activity-body">
        <div class="activity-name">${safeText(a.name||a.sport)}</div>
        <div class="activity-when">${wt} · ${safeText(a.sport)}</div>

        <div class="activity-tags">
          ${dist?`<span class="tag">📏 ${dist}</span>`:''}
          ${dur?`<span class="tag">⏱ ${dur}</span>`:''}
          ${pace?`<span class="tag">⚡ ${pace}</span>`:''}
          ${(isRun && a.training_load!=null)?`<span class="tag">📈 TL ${a.training_load}</span>`:''}
          <span class="tag" style="opacity:.5">🗂 ${safeText(a.source||"manual")}</span>
        </div>

        ${a.notes?`<div class="activity-notes">${safeText(a.notes)}</div>`:''}

        <div style="margin-top:10px; display:flex; gap:8px;">
          <button class="btn-ghost" type="button" onclick="editActivity('${a.id}')">✏️ Redigera</button>
          <button class="btn-ghost" type="button" style="border-color:var(--bad); color:var(--bad);" onclick="deleteActivity('${a.id}')">🗑 Radera</button>
        </div>
      </div>

      <div class="activity-id">${safeText(a.id)}</div>
    `;

    activitiesDiv.appendChild(div);
  }
}

window.deleteActivity = async function(id){
  if(!confirm("Är du säker på att du vill radera detta pass?")) return;

  try{
    if(!window.currentUser){ setMessage("Logga in.", true); return; }
    const { error } = await sb.from("activities").delete().eq("id", id).eq("user_id", window.currentUser.id);
    if(error) throw error;

    setMessage("Pass raderat ✓");
    applyEditLock();

/* ── Golf ── */
let chartGolfTrend=null;
let chartGolfDist=null;
let golfCache=[];

const gFilterHoles = document.getElementById("gFilterHoles");
const gStatHint = document.getElementById("gStatHint");

function setGolfMsg(t, err=false){
  const el=document.getElementById("gMsg"); if(!el) return;
  el.textContent=t||""; el.style.color = err ? "var(--bad)" : "var(--good)";
}

async function fetchGolf(){
  if(!window.currentUser) return [];
  const { data, error } = await sb.from("golf_rounds")
    .select("*")
    .eq("user_id", window.currentUser.id)
    .order("date", { ascending: false })
    .limit(60);
  if(error) throw error;
  return data || [];
}

function renderGolf(list){
  const root=document.getElementById("golfList");
  if(!root) return;
  if(!list.length){
    root.innerHTML = `
      <div class="empty-state" style="margin:0; padding:18px 14px;">
        <div class="empty-state-icon">⛳</div>
        <div class="empty-state-title">Inga rundor ännu</div>
        <div class="empty-state-sub">Lägg till din första runda till vänster.</div>
      </div>`;
    return;
  }
  root.innerHTML="";
  for(const r of list){
    const pills = [
      r.holes ? `<span class="pill">🕳️ ${safeText(r.holes)} hål</span>` : "",
      (r.points!=null && r.points!=="") ? `<span class="pill soft">⭐ ${safeText(r.points)} p</span>` : "",
      (r.weather) ? `<span class="pill soft">☁️ ${safeText(r.weather)}</span>` : ""
    ].join("");

    const counts = [
      (r.double_bogey!=null)?`DB ${r.double_bogey}`:"",
      (r.bogey!=null)?`B ${r.bogey}`:"",
      (r.par!=null)?`P ${r.par}`:"",
      (r.birdie!=null)?`Bi ${r.birdie}`:"",
      (r.eagle!=null)?`E ${r.eagle}`:""
    ].filter(Boolean).join(" · ");

    const el=document.createElement("div");
    el.className="mini-item";
    el.innerHTML = `
      <div class="mini-main">
        <div class="mini-top">
          <div class="mini-name">${safeText(r.course || "Bana")} <span class="pill soft">📅 ${safeText(r.date || "")}</span></div>
          <div class="mini-time">${safeText(r.strokes)} slag</div>
        </div>
        <div class="mini-meta">${pills}${counts?`<span class="pill soft">📊 ${safeText(counts)}</span>`:""}</div>
        ${r.notes?`<div class="note-mini">${safeText(r.notes)}</div>`:""}
      </div>
      <div class="mini-actions">
        <button class="btn-ghost" type="button" onclick="editGolf('${r.id}')">✏️</button>
        <button class="btn-ghost danger" type="button" onclick="deleteGolf('${r.id}')">🗑</button>
      </div>`;
    root.appendChild(el);
  }
}

function makeTrendData(list){
  const rows=[...list].sort((a,b)=>String(a.date).localeCompare(String(b.date)));
  const labels=rows.map(r=>r.date);
  const strokes=rows.map(r=>r.strokes);
  const points=rows.map(r=> (r.points==null? null : r.points));
  return {labels, strokes, points};
}

function buildDistribution(list){
  const sum = { db:0, b:0, p:0, bi:0, e:0 };
  for(const r of list){
    sum.db += Number(r.double_bogey||0);
    sum.b  += Number(r.bogey||0);
    sum.p  += Number(r.par||0);
    sum.bi += Number(r.birdie||0);
    sum.e  += Number(r.eagle||0);
  }
  return sum;
}

function renderGolfCharts(list){
  const trendCanvas = document.getElementById("chartGolfTrend");
  const distCanvas  = document.getElementById("chartGolfDist");
  if(!trendCanvas || !distCanvas || !window.Chart) return;

  const {labels, strokes, points} = makeTrendData(list);
  const dist = buildDistribution(list);

  if(gStatHint){
    const n=list.length;
    const avgStrokes = n? (strokes.reduce((a,b)=>a+(b||0),0)/n).toFixed(1) : "—";
    const avgPoints  = n? (list.reduce((a,r)=>a+(r.points==null?0:r.points),0)/n).toFixed(1) : "—";
    gStatHint.innerHTML = n ? `Rundor: <b>${n}</b> · Snitt slag: <b>${avgStrokes}</b> · Snitt poäng: <b>${avgPoints}</b>` : "—";
  }

  if(chartGolfTrend) chartGolfTrend.destroy();
  chartGolfTrend = new Chart(trendCanvas,{
    type:"line",
    data:{
      labels: labels.length? labels : ["—"],
      datasets:[
        {
          label:"Slag",
          data: strokes.length? strokes : [null],
          borderColor:"rgba(255,159,64,0.92)",
          backgroundColor:"rgba(255,159,64,0.10)",
          pointBackgroundColor:"rgba(255,159,64,0.95)",
          pointBorderColor:"rgba(13,15,28,1)",
          pointBorderWidth:2,
          pointRadius:3,
          tension:0.35,
          fill:true
        },
        {
          label:"Poäng",
          data: points.length? points : [null],
          borderColor:"rgba(0,255,200,0.35)",
          backgroundColor:"rgba(0,255,200,0.05)",
          pointBackgroundColor:"rgba(0,255,200,0.45)",
          pointRadius:2,
          tension:0.35,
          fill:false
        }
      ]
    },
    options:{
      responsive:true, maintainAspectRatio:false,
      interaction:{mode:"index", intersect:false},
      plugins:{
        legend:{ labels:{ color:"rgba(123,132,184,0.9)", font:{size:11,weight:"600"}, usePointStyle:true, pointStyle:"circle", boxWidth:8, boxHeight:8, padding:16 } },
        tooltip:{ backgroundColor:"rgba(7,8,15,0.96)", borderColor:"rgba(99,102,241,0.18)", borderWidth:1, titleColor:"rgba(232,234,248,0.95)", bodyColor:"rgba(123,132,184,0.9)", padding:13, cornerRadius:12 }
      },
      scales:{
        x:{ grid:{color:"rgba(99,102,241,0.06)"}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)", maxTicksLimit:8} },
        y:{ beginAtZero:false, grid:{color:"rgba(99,102,241,0.07)"}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)"} }
      }
    }
  });

  if(chartGolfDist) chartGolfDist.destroy();
  chartGolfDist = new Chart(distCanvas,{
    type:"bar",
    data:{
      labels:["Dubbelbogey","Bogey","Par","Birdie","Eagle"],
      datasets:[{
        label:"Totalt (summa)",
        data:[dist.db, dist.b, dist.p, dist.bi, dist.e],
        backgroundColor:"rgba(167,139,250,0.55)",
        borderColor:"rgba(167,139,250,0.85)",
        borderWidth:1,
        borderRadius:8
      }]
    },
    options:{
      responsive:true, maintainAspectRatio:false,
      plugins:{ legend:{ display:false } },
      scales:{
        x:{ grid:{color:"rgba(99,102,241,0.06)"}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)"} },
        y:{ beginAtZero:true, grid:{color:"rgba(99,102,241,0.07)"}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)", maxTicksLimit:5} }
      }
    }
  });
}

function applyGolfFilter(){
  const v = gFilterHoles ? gFilterHoles.value : "all";
  const list = v==="all" ? golfCache : golfCache.filter(r=>String(r.holes)===String(v));
  renderGolfCharts(list);
}

if(gFilterHoles){
  gFilterHoles.addEventListener("change", applyGolfFilter);
}

async function refreshGolf(){
  // Only refresh if elements exist (they do), and user exists
  try{
    const rows = await fetchGolf();
    golfCache = rows;
    renderGolf(rows);
    applyGolfFilter();
  }catch(e){
    const root=document.getElementById("golfList");
    if(root){
      root.innerHTML = `
        <div class="empty-state" style="margin:0; padding:18px 14px;">
          <div class="empty-state-icon">⚠️</div>
          <div class="empty-state-title">Golf saknar tabell</div>
          <div class="empty-state-sub">${safeText(e?.message||"Skapa tabellen 'golf_rounds' i Supabase.")}</div>
        </div>`;
    }
  }
}

window.deleteGolf = async function(id){
  if(!confirm("Radera runda?")) return;
  try{
    const { error } = await sb.from("golf_rounds").delete().eq("id", id).eq("user_id", window.currentUser.id);
    if(error) throw error;
    setGolfMsg("Runda raderad ✓");
    refreshGolf();
  }catch(e){ setGolfMsg(e?.message||"Kunde inte radera", true); }
}

window.editGolf = async function(id){
  try{
    const { data, error } = await sb.from("golf_rounds").select("*").eq("id", id).eq("user_id", window.currentUser.id).single();
    if(error) throw error;

    document.getElementById("gDate").value = data.date || "";
    document.getElementById("gCourse").value = data.course || "";
    document.getElementById("gHoles").value = String(data.holes || 18);
    document.getElementById("gStrokes").value = data.strokes ?? "";
    document.getElementById("gPoints").value = data.points ?? "";
    document.getElementById("gDoubleBogey").value = data.double_bogey ?? 0;
    document.getElementById("gBogey").value = data.bogey ?? 0;
    document.getElementById("gPar").value = data.par ?? 0;
    document.getElementById("gBirdie").value = data.birdie ?? 0;
    document.getElementById("gEagle").value = data.eagle ?? 0;
    document.getElementById("gWeather").value = data.weather || "";
    document.getElementById("gNotes").value = data.notes || "";

    const form=document.getElementById("golfForm");
    form.dataset.editId = data.id;
    document.getElementById("gSubmit").textContent = "Uppdatera runda";
    setGolfMsg("Redigerar runda…");
  }catch(e){ setGolfMsg(e?.message||"Kunde inte hämta", true); }
}

const golfForm = document.getElementById("golfForm");
if(golfForm){
  golfForm.addEventListener("submit", async (e)=>{
    e.preventDefault();
    setGolfMsg("");
    const payload = {
      user_id: window.currentUser.id,
      date: document.getElementById("gDate").value,
      course: document.getElementById("gCourse").value.trim(),
      holes: Number(document.getElementById("gHoles").value),
      strokes: Number(document.getElementById("gStrokes").value),
      points: document.getElementById("gPoints").value==="" ? null : Number(document.getElementById("gPoints").value),
      double_bogey: Number(document.getElementById("gDoubleBogey").value)||0,
      bogey: Number(document.getElementById("gBogey").value)||0,
      par: Number(document.getElementById("gPar").value)||0,
      birdie: Number(document.getElementById("gBirdie").value)||0,
      eagle: Number(document.getElementById("gEagle").value)||0,
      weather: document.getElementById("gWeather").value.trim() || null,
      notes: document.getElementById("gNotes").value.trim() || null
    };

    if(!payload.date || !payload.course || !isFinite(payload.strokes) || payload.strokes<=0){
      setGolfMsg("Fyll i datum, bana och antal slag.", true); return;
    }

    const editId=golfForm.dataset.editId || null;

    try{
      let error;
      if(editId){
        ({ error } = await sb.from("golf_rounds").update(payload).eq("id", editId).eq("user_id", window.currentUser.id));
      } else {
        ({ error } = await sb.from("golf_rounds").insert(payload));
      }
      if(error) throw error;

      golfForm.reset();
      delete golfForm.dataset.editId;
      document.getElementById("gDoubleBogey").value = 0;
      document.getElementById("gBogey").value = 0;
      document.getElementById("gPar").value = 0;
      document.getElementById("gBirdie").value = 0;
      document.getElementById("gEagle").value = 0;
      document.getElementById("gHoles").value = "18";
      document.getElementById("gSubmit").textContent = "Spara runda";

      setGolfMsg(editId ? "Runda uppdaterad ✓" : "Runda sparad ✓");
      refreshGolf();
    }catch(e){ setGolfMsg(e?.message||"Kunde inte spara", true); }
  });
}


updateSportUI();

// ── Expose handlers for inline onclick
try {
  if (typeof deleteActivity === "function") window.deleteActivity = deleteActivity;
  if (typeof editActivity === "function") window.editActivity = editActivity;
  if (typeof deletePR === "function") window.deletePR = deletePR;
  if (typeof editPR === "function") window.editPR = editPR;
  if (typeof deleteRace === "function") window.deleteRace = deleteRace;
  if (typeof editRace === "function") window.editRace = editRace;
  if (typeof deleteGolf === "function") window.deleteGolf = deleteGolf;
  if (typeof editGolf === "function") window.editGolf = editGolf;
} catch (e) { console.error(e); }


/* ───────── Mobile Nav Wiring ───────── */

(function(){
  const mDash = document.getElementById("mDash");
  const mLogg = document.getElementById("mLogg");
  const mGolf = document.getElementById("mGolf");

  const tabDash = document.getElementById("tabDash");
  const tabLogg = document.getElementById("tabLogg");
  const tabGolf = document.getElementById("tabGolf");

  function syncMobile(){
    const active = document.querySelector(".nav-tab.active");
    if(!active) return;
    [mDash, mLogg, mGolf].forEach(b=>b?.classList.remove("active"));
    if(active.id==="tabDash") mDash?.classList.add("active");
    if(active.id==="tabLogg") mLogg?.classList.add("active");
    if(active.id==="tabGolf") mGolf?.classList.add("active");
  }

  mDash?.addEventListener("click", ()=> tabDash?.click());
  mLogg?.addEventListener("click", ()=> tabLogg?.click());
  mGolf?.addEventListener("click", ()=> tabGolf?.click());

  document.addEventListener("click", ()=> setTimeout(syncMobile,50));
  syncMobile();
})();



/* ───────── Expose tab switching for mobile nav ───────── */
try{
  if(typeof setActiveTab === "function"){
    window.goTab = (which)=>{
      setActiveTab(which);
      // sync active state on mobile buttons
      const mDash=document.getElementById("mDash");
      const mLogg=document.getElementById("mLogg");
      const mGolf=document.getElementById("mGolf");
      [mDash,mLogg,mGolf].forEach(b=>b?.classList.remove("active"));
      if(which==="dash") mDash?.classList.add("active");
      if(which==="logg") mLogg?.classList.add("active");
      if(which==="golf") mGolf?.classList.add("active");
    };
  }
}catch(e){ console.error(e); }

restoreFilters();

if(logYearFilter) logYearFilter.addEventListener("change", ()=>{ rememberFilters(); renderLatestList(applyLogFilters(__allActivitiesCache)); });
if(logMonthFilter) logMonthFilter.addEventListener("change", ()=>{ rememberFilters(); renderLatestList(applyLogFilters(__allActivitiesCache)); });
if(btnClearLogFilters) btnClearLogFilters.addEventListener("click", ()=>{ if(logYearFilter) logYearFilter.value="all"; if(logMonthFilter) logMonthFilter.value="all"; rememberFilters(); renderLatestList(__allActivitiesCache); });

if(raceYearFilter) raceYearFilter.addEventListener("change", ()=>{ rememberFilters(); renderRaces(applyRaceFilters(__allRacesCache)); });
if(btnClearRaceFilter) btnClearRaceFilter.addEventListener("click", ()=>{ if(raceYearFilter) raceYearFilter.value="all"; rememberFilters(); renderRaces(__allRacesCache); });

refresh();
  }catch(e){
    setMessage(e?.message || "Kunde inte radera", true);
  }
}

window.editActivity = async function(id){
  try{
    const { data, error } = await sb.from("activities")
      .select("*")
      .eq("id", id)
      .eq("user_id", window.currentUser.id)
      .single();

    if(error) throw error;

    // Växla till dashboard + visa formulär
    setActiveTab("dash");

    // Fyll formuläret
    hiddenStart.value = new Date(data.start_time).toISOString().slice(0,16);
    document.getElementById("sport").value = data.sport;
    updateSportUI();
    document.getElementById("name").value = data.name || "";
    document.getElementById("notes").value = data.notes || "";

    if(data.duration_s){
      document.getElementById("duration_h").value = Math.floor(data.duration_s/3600);
      document.getElementById("duration_min").value = Math.floor((data.duration_s%3600)/60);
    } else {
      document.getElementById("duration_h").value = "";
      document.getElementById("duration_min").value = "";
    }

    if(data.distance_m){
      document.getElementById("distance_km").value = (data.distance_m/1000).toFixed(2);
    } else {
      document.getElementById("distance_km").value = "";
    }

    // Ändra knapp till "Uppdatera"
    form.dataset.editId = id;
    form.querySelector("button[type=submit]").textContent = "Uppdatera pass";

    // Uppdatera datumvisning
    const pad = n => String(n).padStart(2, "0");
    const dt = new Date(data.start_time);
    dateDisplayText.textContent = `${dt.toLocaleDateString("sv-SE")}  ${pad(dt.getHours())}:${pad(dt.getMinutes())}`;
    dateDisplayText.classList.remove("placeholder");

  }catch(e){
    setMessage(e?.message || "Kunde inte hämta pass", true);
  }
}

function updateStatsForYear(b){
  const ts=b["Löpning"].counts.reduce((a,v)=>a+v,0)+b["Styrketräning"].counts.reduce((a,v)=>a+v,0);
  const th=b["Löpning"].hours.reduce((a,v)=>a+v,0)+b["Styrketräning"].hours.reduce((a,v)=>a+v,0);
  const rk=b["Löpning"].runKm.reduce((a,v)=>a+v,0);
  statTotalSessions.textContent=ts.toString();
  statTotalHours.innerHTML=`${Math.round(th*10)/10}<span class="stat-unit">h</span>`;
  statRunKm.innerHTML=`${Math.round(rk*10)/10}<span class="stat-unit">km</span>`;
}

const formRow = document.querySelector(".top-form-row");

function setActiveTab(which){
  const isDash = which==="dash";
  const isLogg = which==="logg";
  const isGolf = which==="golf";
  tabDash.classList.toggle("active", isDash);
  tabLogg.classList.toggle("active", isLogg);
  if(tabGolf) tabGolf.classList.toggle("active", isGolf);
  viewDash.classList.toggle("active", isDash);
  viewLogg.classList.toggle("active", isLogg);
  if(viewGolf) viewGolf.classList.toggle("active", isGolf);
  // Show activity form only on dashboard
  if(formRow) formRow.classList.toggle("hidden", !isDash);
  // Lazy-load golf when opening tab
  if(isGolf) refreshGolf();
}
tabDash.addEventListener("click",()=>setActiveTab("dash"));
tabLogg.addEventListener("click",()=>setActiveTab("logg"));
if(tabGolf) tabGolf.addEventListener("click",()=>setActiveTab("golf"));

async function refresh(){
  setMessage("");
  try{
    const all=await fetchAllActivities();
    ensureYearOptions(all); setSummary(all);
    const year=Number(yearSelect.value)||new Date().getFullYear();
    pillYear.textContent=`År: ${year}`; subYear.textContent=`Valt år: ${year}`;
    const b=buildYearBuckets(all,year);
    updateStatsForYear(b);

    chartRun=makeChart("chartRun",b["Löpning"].runKm,b["Löpning"].hours,{
      bar:a=>`rgba(99,102,241,${a})`, line:"rgba(129,140,248,0.95)",
      area:(ctx)=>{ const g=ctx.chart.ctx.createLinearGradient(0,0,0,ctx.chart.height); g.addColorStop(0,"rgba(99,102,241,0.28)"); g.addColorStop(1,"rgba(99,102,241,0)"); return g; }
    },chartRun);

    const wl = buildWeeklyLoad(all, year);
    chartRunLoad = makeWeeklyLoadChart("chartRunLoad", wl, chartRunLoad);

    chartStrength=makeHoursBarChart("chartStrength",b["Styrketräning"].hours,{
      bar:a=>`rgba(59,130,246,${a})`
    },chartStrength);

    const yearForList = Number(yearSelect?.value) || new Date().getFullYear();
    const filteredAll = all.filter(a=>{
      const d=new Date(a.start_time);
      return d.getFullYear()===yearForList;
    });
    renderLatestList(filteredAll);

    // Also refresh golf cache (safe even if tab not open)
    try{ await refreshGolf(); }catch(_e){}
    await loadPRs();
    await loadRaces();
  } catch(e){
    activitiesDiv.className=""; activitiesDiv.innerHTML=`<div class="empty-state"><div class="empty-state-icon">⚠️</div><div class="empty-state-title">Kunde inte ladda data</div><div class="empty-state-sub">${e?.message||"Okänt fel"}</div></div>`;
    setMessage(e?.message||"Okänt fel",true);
  }
}

reloadBtn.addEventListener("click",refresh);
yearSelect.addEventListener("change",refresh);

form.addEventListener("submit",async(e)=>{
  if(!window.currentUser){ setMessage("Logga in.", true); return; }
  e.preventDefault();
  setMessage("");

  const editId = form.dataset.editId || null;

  const st = hiddenStart.value;
  if(!st){ setMessage("Välj datum.", true); return; }

  const sport = document.getElementById("sport").value;
  const name  = document.getElementById("name").value.trim()  || null;
  const notes = document.getElementById("notes").value.trim() || null;

  const hRaw = document.getElementById("duration_h").value;
  const mRaw = document.getElementById("duration_min").value;

  const h = hRaw ? Math.max(0, Number(hRaw)) : 0;
  const m = mRaw ? Math.max(0, Number(mRaw)) : 0;

  if(mRaw && Number(mRaw) > 59){ setMessage("Minuter måste vara 0–59.", true); return; }

  const duration_s = (h || m) ? (Math.floor(h)*3600 + Math.floor(m)*60) : null;

  const isRun = sport === "Löpning";

  const dkr = document.getElementById("distance_km").value;
  const distance_m = (isRun && dkr) ? (Number(dkr) * 1000) : null;

  const payload = {
    user_id: window.currentUser.id,
    start_time: new Date(st).toISOString(),
    sport,
    name,
    duration_s,
    distance_m,
    training_load: (document.getElementById("training_load")?.value === "" ? null : Number(document.getElementById("training_load")?.value)),
    notes
  };

  try{
    let error;

    if(editId){
      ({ error } = await sb.from("activities").update(payload).eq("id", editId).eq("user_id", window.currentUser.id));
    } else {
      payload.source = "manual";
      ({ error } = await sb.from("activities").insert(payload));
    }

    if(error) throw error;

    // Reset
    form.reset();
    hiddenStart.value = "";
    calSelected = null;

    delete form.dataset.editId;
    form.querySelector("button[type=submit]").textContent = "Spara pass";

    dateDisplayText.textContent = "Välj datum…";
    dateDisplayText.classList.add("placeholder");

    setMessage(editId ? "Pass uppdaterat ✓" : "✓ Sparat!");
    refresh();
  } catch(e2){
    setMessage(e2?.message || (editId ? "Kunde inte uppdatera" : "Kunde inte spara"), true);
  }
});


/* ── Golf ── */
let chartGolfTrend=null;
let chartGolfDist=null;
let golfCache=[];

const gFilterHoles = document.getElementById("gFilterHoles");
const gStatHint = document.getElementById("gStatHint");

function setGolfMsg(t, err=false){
  const el=document.getElementById("gMsg"); if(!el) return;
  el.textContent=t||""; el.style.color = err ? "var(--bad)" : "var(--good)";
}

async function fetchGolf(){
  if(!window.currentUser) return [];
  const { data, error } = await sb.from("golf_rounds")
    .select("*")
    .eq("user_id", window.currentUser.id)
    .order("date", { ascending: false })
    .limit(60);
  if(error) throw error;
  return data || [];
}

function renderGolf(list){
  const root=document.getElementById("golfList");
  if(!root) return;
  if(!list.length){
    root.innerHTML = `
      <div class="empty-state" style="margin:0; padding:18px 14px;">
        <div class="empty-state-icon">⛳</div>
        <div class="empty-state-title">Inga rundor ännu</div>
        <div class="empty-state-sub">Lägg till din första runda till vänster.</div>
      </div>`;
    return;
  }
  root.innerHTML="";
  for(const r of list){
    const pills = [
      r.holes ? `<span class="pill">🕳️ ${safeText(r.holes)} hål</span>` : "",
      (r.points!=null && r.points!=="") ? `<span class="pill soft">⭐ ${safeText(r.points)} p</span>` : "",
      (r.weather) ? `<span class="pill soft">☁️ ${safeText(r.weather)}</span>` : ""
    ].join("");

    const counts = [
      (r.double_bogey!=null)?`DB ${r.double_bogey}`:"",
      (r.bogey!=null)?`B ${r.bogey}`:"",
      (r.par!=null)?`P ${r.par}`:"",
      (r.birdie!=null)?`Bi ${r.birdie}`:"",
      (r.eagle!=null)?`E ${r.eagle}`:""
    ].filter(Boolean).join(" · ");

    const el=document.createElement("div");
    el.className="mini-item";
    el.innerHTML = `
      <div class="mini-main">
        <div class="mini-top">
          <div class="mini-name">${safeText(r.course || "Bana")} <span class="pill soft">📅 ${safeText(r.date || "")}</span></div>
          <div class="mini-time">${safeText(r.strokes)} slag</div>
        </div>
        <div class="mini-meta">${pills}${counts?`<span class="pill soft">📊 ${safeText(counts)}</span>`:""}</div>
        ${r.notes?`<div class="note-mini">${safeText(r.notes)}</div>`:""}
      </div>
      <div class="mini-actions">
        <button class="btn-ghost" type="button" onclick="editGolf('${r.id}')">✏️</button>
        <button class="btn-ghost danger" type="button" onclick="deleteGolf('${r.id}')">🗑</button>
      </div>`;
    root.appendChild(el);
  }
}

function makeTrendData(list){
  const rows=[...list].sort((a,b)=>String(a.date).localeCompare(String(b.date)));
  const labels=rows.map(r=>r.date);
  const strokes=rows.map(r=>r.strokes);
  const points=rows.map(r=> (r.points==null? null : r.points));
  return {labels, strokes, points};
}

function buildDistribution(list){
  const sum = { db:0, b:0, p:0, bi:0, e:0 };
  for(const r of list){
    sum.db += Number(r.double_bogey||0);
    sum.b  += Number(r.bogey||0);
    sum.p  += Number(r.par||0);
    sum.bi += Number(r.birdie||0);
    sum.e  += Number(r.eagle||0);
  }
  return sum;
}

function renderGolfCharts(list){
  const trendCanvas = document.getElementById("chartGolfTrend");
  const distCanvas  = document.getElementById("chartGolfDist");
  if(!trendCanvas || !distCanvas || !window.Chart) return;

  const {labels, strokes, points} = makeTrendData(list);
  const dist = buildDistribution(list);

  if(gStatHint){
    const n=list.length;
    const avgStrokes = n? (strokes.reduce((a,b)=>a+(b||0),0)/n).toFixed(1) : "—";
    const avgPoints  = n? (list.reduce((a,r)=>a+(r.points==null?0:r.points),0)/n).toFixed(1) : "—";
    gStatHint.innerHTML = n ? `Rundor: <b>${n}</b> · Snitt slag: <b>${avgStrokes}</b> · Snitt poäng: <b>${avgPoints}</b>` : "—";
  }

  if(chartGolfTrend) chartGolfTrend.destroy();
  chartGolfTrend = new Chart(trendCanvas,{
    type:"line",
    data:{
      labels: labels.length? labels : ["—"],
      datasets:[
        {
          label:"Slag",
          data: strokes.length? strokes : [null],
          borderColor:"rgba(255,159,64,0.92)",
          backgroundColor:"rgba(255,159,64,0.10)",
          pointBackgroundColor:"rgba(255,159,64,0.95)",
          pointBorderColor:"rgba(13,15,28,1)",
          pointBorderWidth:2,
          pointRadius:3,
          tension:0.35,
          fill:true
        },
        {
          label:"Poäng",
          data: points.length? points : [null],
          borderColor:"rgba(0,255,200,0.35)",
          backgroundColor:"rgba(0,255,200,0.05)",
          pointBackgroundColor:"rgba(0,255,200,0.45)",
          pointRadius:2,
          tension:0.35,
          fill:false
        }
      ]
    },
    options:{
      responsive:true, maintainAspectRatio:false,
      interaction:{mode:"index", intersect:false},
      plugins:{
        legend:{ labels:{ color:"rgba(123,132,184,0.9)", font:{size:11,weight:"600"}, usePointStyle:true, pointStyle:"circle", boxWidth:8, boxHeight:8, padding:16 } },
        tooltip:{ backgroundColor:"rgba(7,8,15,0.96)", borderColor:"rgba(99,102,241,0.18)", borderWidth:1, titleColor:"rgba(232,234,248,0.95)", bodyColor:"rgba(123,132,184,0.9)", padding:13, cornerRadius:12 }
      },
      scales:{
        x:{ grid:{color:"rgba(99,102,241,0.06)"}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)", maxTicksLimit:8} },
        y:{ beginAtZero:false, grid:{color:"rgba(99,102,241,0.07)"}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)"} }
      }
    }
  });

  if(chartGolfDist) chartGolfDist.destroy();
  chartGolfDist = new Chart(distCanvas,{
    type:"bar",
    data:{
      labels:["Dubbelbogey","Bogey","Par","Birdie","Eagle"],
      datasets:[{
        label:"Totalt (summa)",
        data:[dist.db, dist.b, dist.p, dist.bi, dist.e],
        backgroundColor:"rgba(167,139,250,0.55)",
        borderColor:"rgba(167,139,250,0.85)",
        borderWidth:1,
        borderRadius:8
      }]
    },
    options:{
      responsive:true, maintainAspectRatio:false,
      plugins:{ legend:{ display:false } },
      scales:{
        x:{ grid:{color:"rgba(99,102,241,0.06)"}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)"} },
        y:{ beginAtZero:true, grid:{color:"rgba(99,102,241,0.07)"}, border:{display:false}, ticks:{color:"rgba(123,132,184,0.65)", maxTicksLimit:5} }
      }
    }
  });
}

function applyGolfFilter(){
  const v = gFilterHoles ? gFilterHoles.value : "all";
  const list = v==="all" ? golfCache : golfCache.filter(r=>String(r.holes)===String(v));
  renderGolfCharts(list);
}

if(gFilterHoles){
  gFilterHoles.addEventListener("change", applyGolfFilter);
}

async function refreshGolf(){
  // Only refresh if elements exist (they do), and user exists
  try{
    const rows = await fetchGolf();
    golfCache = rows;
    renderGolf(rows);
    applyGolfFilter();
  }catch(e){
    const root=document.getElementById("golfList");
    if(root){
      root.innerHTML = `
        <div class="empty-state" style="margin:0; padding:18px 14px;">
          <div class="empty-state-icon">⚠️</div>
          <div class="empty-state-title">Golf saknar tabell</div>
          <div class="empty-state-sub">${safeText(e?.message||"Skapa tabellen 'golf_rounds' i Supabase.")}</div>
        </div>`;
    }
  }
}

window.deleteGolf = async function(id){
  if(!confirm("Radera runda?")) return;
  try{
    const { error } = await sb.from("golf_rounds").delete().eq("id", id).eq("user_id", window.currentUser.id);
    if(error) throw error;
    setGolfMsg("Runda raderad ✓");
    refreshGolf();
  }catch(e){ setGolfMsg(e?.message||"Kunde inte radera", true); }
}

window.editGolf = async function(id){
  try{
    const { data, error } = await sb.from("golf_rounds").select("*").eq("id", id).eq("user_id", window.currentUser.id).single();
    if(error) throw error;

    document.getElementById("gDate").value = data.date || "";
    document.getElementById("gCourse").value = data.course || "";
    document.getElementById("gHoles").value = String(data.holes || 18);
    document.getElementById("gStrokes").value = data.strokes ?? "";
    document.getElementById("gPoints").value = data.points ?? "";
    document.getElementById("gDoubleBogey").value = data.double_bogey ?? 0;
    document.getElementById("gBogey").value = data.bogey ?? 0;
    document.getElementById("gPar").value = data.par ?? 0;
    document.getElementById("gBirdie").value = data.birdie ?? 0;
    document.getElementById("gEagle").value = data.eagle ?? 0;
    document.getElementById("gWeather").value = data.weather || "";
    document.getElementById("gNotes").value = data.notes || "";

    const form=document.getElementById("golfForm");
    form.dataset.editId = data.id;
    document.getElementById("gSubmit").textContent = "Uppdatera runda";
    setGolfMsg("Redigerar runda…");
  }catch(e){ setGolfMsg(e?.message||"Kunde inte hämta", true); }
}

const golfForm = document.getElementById("golfForm");
if(golfForm){
  golfForm.addEventListener("submit", async (e)=>{
    e.preventDefault();
    setGolfMsg("");
    const payload = {
      user_id: window.currentUser.id,
      date: document.getElementById("gDate").value,
      course: document.getElementById("gCourse").value.trim(),
      holes: Number(document.getElementById("gHoles").value),
      strokes: Number(document.getElementById("gStrokes").value),
      points: document.getElementById("gPoints").value==="" ? null : Number(document.getElementById("gPoints").value),
      double_bogey: Number(document.getElementById("gDoubleBogey").value)||0,
      bogey: Number(document.getElementById("gBogey").value)||0,
      par: Number(document.getElementById("gPar").value)||0,
      birdie: Number(document.getElementById("gBirdie").value)||0,
      eagle: Number(document.getElementById("gEagle").value)||0,
      weather: document.getElementById("gWeather").value.trim() || null,
      notes: document.getElementById("gNotes").value.trim() || null
    };

    if(!payload.date || !payload.course || !isFinite(payload.strokes) || payload.strokes<=0){
      setGolfMsg("Fyll i datum, bana och antal slag.", true); return;
    }

    const editId=golfForm.dataset.editId || null;

    try{
      let error;
      if(editId){
        ({ error } = await sb.from("golf_rounds").update(payload).eq("id", editId).eq("user_id", window.currentUser.id));
      } else {
        ({ error } = await sb.from("golf_rounds").insert(payload));
      }
      if(error) throw error;

      golfForm.reset();
      delete golfForm.dataset.editId;
      document.getElementById("gDoubleBogey").value = 0;
      document.getElementById("gBogey").value = 0;
      document.getElementById("gPar").value = 0;
      document.getElementById("gBirdie").value = 0;
      document.getElementById("gEagle").value = 0;
      document.getElementById("gHoles").value = "18";
      document.getElementById("gSubmit").textContent = "Spara runda";

      setGolfMsg(editId ? "Runda uppdaterad ✓" : "Runda sparad ✓");
      refreshGolf();
    }catch(e){ setGolfMsg(e?.message||"Kunde inte spara", true); }
  });
}


refresh();

/* ── Defensive tab wiring (override) ── */
(function(){
  const td=document.getElementById("tabDash");
  const tl=document.getElementById("tabLogg");
  const tg=document.getElementById("tabGolf");
  const vd=document.getElementById("viewDash");
  const vl=document.getElementById("viewLogg");
  const vg=document.getElementById("viewGolf");
  if(!td || !tl || !vd || !vl) return;

  function activate(which){
    const isDash = which==="dash";
    const isLogg = which==="logg";
    const isGolf = which==="golf";
    td.classList.toggle("active", isDash);
    tl.classList.toggle("active", isLogg);
    if(tg) tg.classList.toggle("active", isGolf);
    vd.classList.toggle("active", isDash);
    vl.classList.toggle("active", isLogg);
    if(vg) vg.classList.toggle("active", isGolf);
    // hide activity form row (if present) outside dashboard
    const formRow=document.getElementById("formRow");
    if(formRow) formRow.classList.toggle("hidden", !isDash);
    // lazy refresh golf
    if(isGolf && typeof refreshGolf === "function") refreshGolf();
  }

  td.onclick = ()=>activate("dash");
  tl.onclick = ()=>activate("logg");
  if(tg) tg.onclick = ()=>activate("golf");
})();
})();
</script>

  <div id="errBanner" class="status-pill danger" style="position:fixed; left:16px; bottom:16px; z-index:9999; display:none; max-width: calc(100vw - 32px); white-space:normal; line-height:1.35; padding:10px 12px;"></div>


<div class="mobile-nav">
  <button id="mDash" type="button" onclick="window.goTab && window.goTab('dash')">🏠<span>Dashboard</span></button>
  <button id="mLogg" type="button" onclick="window.goTab && window.goTab('logg')">📒<span>Logg</span></button>
  <button id="mGolf" type="button" onclick="window.goTab && window.goTab('golf')">⛳<span>Golf</span></button>
</div>
</body>
</html>
